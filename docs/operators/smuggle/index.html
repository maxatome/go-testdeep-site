<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html>
<head>
<meta charset=utf-8>
<meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1">
<meta name=generator content="Hugo 0.145.0">
<meta name=generator content="Relearn 7.6.1">
<meta name=description content="func Smuggle(fn, expectedValue any) TestDeep Smuggle operator allows to change data contents or mutate it into another type before stepping down in favor of generic comparison process. Of course it is a smuggler operator. So fn is a function that must take one parameter whose type must be convertible to the type of the compared value.
As convenient shortcuts, fn can be a string specifying a fields-path through structs, maps & slices, or any other type, in this case a simple cast is done (see below for details).">
<meta name=author content>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Smuggle :: go-testdeep">
<meta name=twitter:description content="func Smuggle(fn, expectedValue any) TestDeep Smuggle operator allows to change data contents or mutate it into another type before stepping down in favor of generic comparison process. Of course it is a smuggler operator. So fn is a function that must take one parameter whose type must be convertible to the type of the compared value.
As convenient shortcuts, fn can be a string specifying a fields-path through structs, maps & slices, or any other type, in this case a simple cast is done (see below for details).">
<meta property="og:url" content="https://go-testdeep.zetta.rocks/operators/smuggle/index.html">
<meta property="og:site_name" content="go-testdeep">
<meta property="og:title" content="Smuggle :: go-testdeep">
<meta property="og:description" content="func Smuggle(fn, expectedValue any) TestDeep Smuggle operator allows to change data contents or mutate it into another type before stepping down in favor of generic comparison process. Of course it is a smuggler operator. So fn is a function that must take one parameter whose type must be convertible to the type of the compared value.
As convenient shortcuts, fn can be a string specifying a fields-path through structs, maps & slices, or any other type, in this case a simple cast is done (see below for details).">
<meta property="og:locale" content="en_us">
<meta property="og:type" content="article">
<meta property="article:section" content="Operators">
<meta property="article:modified_time" content="2025-04-17T20:24:54+02:00">
<meta itemprop=name content="Smuggle :: go-testdeep">
<meta itemprop=description content="func Smuggle(fn, expectedValue any) TestDeep Smuggle operator allows to change data contents or mutate it into another type before stepping down in favor of generic comparison process. Of course it is a smuggler operator. So fn is a function that must take one parameter whose type must be convertible to the type of the compared value.
As convenient shortcuts, fn can be a string specifying a fields-path through structs, maps & slices, or any other type, in this case a simple cast is done (see below for details).">
<meta itemprop=dateModified content="2025-04-17T20:24:54+02:00">
<meta itemprop=wordCount content="3991">
<title>Smuggle :: go-testdeep</title>
<link href=/images/favicon.png?1744923393 rel=icon type=image/png>
<link href=/fonts/fontawesome/css/fontawesome-all.min.css?1744923393 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1744923393 rel=stylesheet></noscript>
<link href=/css/perfect-scrollbar/perfect-scrollbar.min.css?1744923393 rel=stylesheet>
<link href=/css/theme.min.css?1744923393 rel=stylesheet>
<link href=/css/format-html.min.css?1744923393 rel=stylesheet id=R-format-style>
<link href=/css/auto-complete/auto-complete.min.css?1744923393 rel=stylesheet>
<script src=/js/auto-complete/auto-complete.min.js?1744923393 defer></script>
<script src=/js/lunr/lunr.min.js?1744923393 defer></script>
<script src=/js/lunr/lunr.stemmer.support.min.js?1744923393 defer></script>
<script src=/js/lunr/lunr.multi.min.js?1744923393 defer></script>
<script src=/js/lunr/lunr.en.min.js?1744923393 defer></script>
<script src=/js/search.min.js?1744923393 defer></script>
<script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/operators/smuggle/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://go-testdeep.zetta.rocks",window.relearn.contentLangs=["en"],window.relearn.index_js_url="/searchindex.en.js?1744923393",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.relearn.themevariants=["green"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><meta name=google-site-verification content="I15BdfDU61eURsp8IywfU9hV8Rygaa4JsH-U8kKAxVs">
<style type=text/css>#body-inner pre{white-space:pre}dd{display:list-item;list-style:none;margin-inline-start:1.5rem}article a:hover>svg:only-child:empty,article a:active>svg:only-child:empty,article a:focus>svg:only-child:empty,article a:hover>img:only-child:empty,article a:active>img:only-child:empty,article a:focus>img:only-child:empty{outline:none}</style>
</head>
<body class="mobile-support html" data-url=/operators/smuggle/index.html>
<div id=R-body class=default-animation>
<div id=R-body-overlay></div>
<nav id=R-topbar>
<div class=topbar-wrapper>
<div class=topbar-sidebar-divider></div>
<div class="topbar-area topbar-area-start" data-area=start>
<div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button>
</div>
<div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button>
<div class=topbar-content>
<div class=topbar-content-wrapper>
<nav class=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#examples>Examples</a></li>
</ul>
</li>
<li><a href=#cmpsmuggle-shortcut>CmpSmuggle shortcut</a>
<ul>
<li><a href=#examples-1>Examples</a></li>
</ul>
</li>
<li><a href=#tsmuggle-shortcut>T.Smuggle shortcut</a>
<ul>
<li><a href=#examples-2>Examples</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/index.html><span itemprop=name>go-testdeep</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/operators/index.html><span itemprop=name>Operators</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Smuggle</span><meta itemprop=position content="3"></li>
</ol>
<div class="topbar-area topbar-area-end" data-area=end>
<div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/operators/slice/index.html title="Slice (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
</div>
<div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/operators/sstruct/index.html title="SStruct (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
</div>
<div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button>
<div class=topbar-content>
<div class=topbar-content-wrapper>
<div class="topbar-area topbar-area-more" data-area=more>
</div>
</div>
</div>
</div>
</div>
</div>
</nav>
<div id=R-main-overlay></div>
<main id=R-body-inner class="highlightable operators" tabindex=-1>
<div class=flex-block-wrapper>
<article class=default>
<header class=headline>
</header>
<h1 id=smuggle>Smuggle</h1>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#6ab825;font-weight:700>func</span> <span style=color:#447fcf>Smuggle</span>(fn, expectedValue <span style=color:#6ab825;font-weight:700>any</span>) TestDeep</span></span></code></pre></div>
<p>Smuggle operator allows to change data contents or mutate it into
another type before stepping down in favor of generic comparison
process. Of course it is a <a href=https://go-testdeep.zetta.rocks/operators/#smuggler-operators rel=external target=_blank>smuggler operator</a>. So <em>fn</em> is a function
that must take one parameter whose type must be convertible to the
type of the compared value.</p>
<p>As convenient shortcuts, <em>fn</em> can be a <code>string</code> specifying a
fields-path through structs, maps & slices, or <code>any</code> other type, in
this case a simple cast is done (see below for details).</p>
<p><em>fn</em> must return at least one value. These value will be compared as is
to <em>expectedValue</em>, here integer 28:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;0028&#34;</span>,
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(value <span style=color:#6ab825;font-weight:700>string</span>) <span style=color:#6ab825;font-weight:700>int</span> {
</span></span><span style=display:flex><span>    num, _ := strconv.<span style=color:#447fcf>Atoi</span>(value)
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> num
</span></span><span style=display:flex><span>  }, <span style=color:#3677a9>28</span>),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p>or using an other <a href=https://go-testdeep.zetta.rocks/operators/ rel=external target=_blank>TestDeep operator</a>, here <a href=https://go-testdeep.zetta.rocks/operators/between/ rel=external target=_blank><code>Between</code></a>(28, 30):</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;0029&#34;</span>,
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(value <span style=color:#6ab825;font-weight:700>string</span>) <span style=color:#6ab825;font-weight:700>int</span> {
</span></span><span style=display:flex><span>    num, _ := strconv.<span style=color:#447fcf>Atoi</span>(value)
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> num
</span></span><span style=display:flex><span>  }, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>28</span>, <span style=color:#3677a9>30</span>)),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p><em>fn</em> can return a second boolean value, used to tell that a problem
occurred and so stop the comparison:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;0029&#34;</span>,
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(value <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>bool</span>) {
</span></span><span style=display:flex><span>    num, err := strconv.<span style=color:#447fcf>Atoi</span>(value)
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> num, err == <span style=color:#6ab825;font-weight:700>nil</span>
</span></span><span style=display:flex><span>  }, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>28</span>, <span style=color:#3677a9>30</span>)),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p><em>fn</em> can return a third <code>string</code> value which is used to describe the
test when a problem occurred (false second boolean value):</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;0029&#34;</span>,
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(value <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>bool</span>, <span style=color:#6ab825;font-weight:700>string</span>) {
</span></span><span style=display:flex><span>    num, err := strconv.<span style=color:#447fcf>Atoi</span>(value)
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>      <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, <span style=color:#6ab825;font-weight:700>false</span>, <span style=color:#ed9d13>&#34;string must contain a number&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> num, <span style=color:#6ab825;font-weight:700>true</span>, <span style=color:#ed9d13>&#34;&#34;</span>
</span></span><span style=display:flex><span>  }, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>28</span>, <span style=color:#3677a9>30</span>)),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p>Instead of returning (X, <code>bool</code>) or (X, <code>bool</code>, <code>string</code>), <em>fn</em> can
return (X, <a href=https://pkg.go.dev/builtin#error rel=external target=_blank><code>error</code></a>). When a problem occurs, the returned <a href=https://pkg.go.dev/builtin#error rel=external target=_blank><code>error</code></a> is
non-<code>nil</code>, as in:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;0029&#34;</span>,
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(value <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>    num, err := strconv.<span style=color:#447fcf>Atoi</span>(value)
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> num, err
</span></span><span style=display:flex><span>  }, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>28</span>, <span style=color:#3677a9>30</span>)),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p>Which can be simplified to:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;0029&#34;</span>, td.<span style=color:#447fcf>Smuggle</span>(strconv.Atoi, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>28</span>, <span style=color:#3677a9>30</span>)))</span></span></code></pre></div>
<p>Imagine you want to compare that the Year of a date is between 2010
and 2020:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2015</span>, time.May, <span style=color:#3677a9>1</span>, <span style=color:#3677a9>1</span>, <span style=color:#3677a9>2</span>, <span style=color:#3677a9>3</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(date time.Time) <span style=color:#6ab825;font-weight:700>int</span> { <span style=color:#6ab825;font-weight:700>return</span> date.<span style=color:#447fcf>Year</span>() },
</span></span><span style=display:flex><span>    td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>2010</span>, <span style=color:#3677a9>2020</span>)),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p>In this case the data location forwarded to next test will be
something like &ldquo;DATA.MyTimeField&rdquo;, but you can act on it
too by returning a <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#SmuggledGot rel=external target=_blank><code>SmuggledGot</code></a> struct (by value or by address):</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2015</span>, time.May, <span style=color:#3677a9>1</span>, <span style=color:#3677a9>1</span>, <span style=color:#3677a9>2</span>, <span style=color:#3677a9>3</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(date time.Time) SmuggledGot {
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> SmuggledGot{
</span></span><span style=display:flex><span>      Name: <span style=color:#ed9d13>&#34;Year&#34;</span>,
</span></span><span style=display:flex><span>      Got:  date.<span style=color:#447fcf>Year</span>(),
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>2010</span>, <span style=color:#3677a9>2020</span>)),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p>then the data location forwarded to next test will be something like
&ldquo;DATA.MyTimeField.Year&rdquo;. The &ldquo;.&rdquo; between the current path (here
&ldquo;DATA.MyTimeField&rdquo;) and the returned Name &ldquo;Year&rdquo; is automatically
added when Name starts with a Letter.</p>
<p>Note that <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#SmuggledGot rel=external target=_blank><code>SmuggledGot</code></a> and <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#SmuggledGot rel=external target=_blank><code>*SmuggledGot</code></a> returns are treated
equally, and they are only used when <em>fn</em> has only one returned value
or when the second boolean returned value is true.</p>
<p>Of course, all cases can go together:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#999;font-style:italic>// Accepts a &#34;YYYY/mm/DD HH:MM:SS&#34; string to produce a time.Time and tests</span>
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>// whether this date is contained between 2 hours before now and now.</span>
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;2020-01-25 12:13:14&#34;</span>,
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(date <span style=color:#6ab825;font-weight:700>string</span>) (*SmuggledGot, <span style=color:#6ab825;font-weight:700>bool</span>, <span style=color:#6ab825;font-weight:700>string</span>) {
</span></span><span style=display:flex><span>    date, err := time.<span style=color:#447fcf>Parse</span>(<span style=color:#ed9d13>&#34;2006/01/02 15:04:05&#34;</span>, date)
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>      <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#6ab825;font-weight:700>nil</span>, <span style=color:#6ab825;font-weight:700>false</span>, <span style=color:#ed9d13>`date must conform to &#34;YYYY/mm/DD HH:MM:SS&#34; format`</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> &amp;SmuggledGot{
</span></span><span style=display:flex><span>      Name: <span style=color:#ed9d13>&#34;Date&#34;</span>,
</span></span><span style=display:flex><span>      Got:  date,
</span></span><span style=display:flex><span>    }, <span style=color:#6ab825;font-weight:700>true</span>, <span style=color:#ed9d13>&#34;&#34;</span>
</span></span><span style=display:flex><span>  }, td.<span style=color:#447fcf>Between</span>(time.<span style=color:#447fcf>Now</span>().<span style=color:#447fcf>Add</span>(-<span style=color:#3677a9>2</span>*time.Hour), time.<span style=color:#447fcf>Now</span>())),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p>or:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#999;font-style:italic>// Accepts a &#34;YYYY/mm/DD HH:MM:SS&#34; string to produce a time.Time and tests</span>
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>// whether this date is contained between 2 hours before now and now.</span>
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;2020-01-25 12:13:14&#34;</span>,
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(date <span style=color:#6ab825;font-weight:700>string</span>) (*SmuggledGot, <span style=color:#6ab825;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>    date, err := time.<span style=color:#447fcf>Parse</span>(<span style=color:#ed9d13>&#34;2006/01/02 15:04:05&#34;</span>, date)
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>      <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#6ab825;font-weight:700>nil</span>, err
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> &amp;SmuggledGot{
</span></span><span style=display:flex><span>      Name: <span style=color:#ed9d13>&#34;Date&#34;</span>,
</span></span><span style=display:flex><span>      Got:  date,
</span></span><span style=display:flex><span>    }, <span style=color:#6ab825;font-weight:700>nil</span>
</span></span><span style=display:flex><span>  }, td.<span style=color:#447fcf>Between</span>(time.<span style=color:#447fcf>Now</span>().<span style=color:#447fcf>Add</span>(-<span style=color:#3677a9>2</span>*time.Hour), time.<span style=color:#447fcf>Now</span>())),
</span></span><span style=display:flex><span>)</span></span></code></pre></div>
<p>Smuggle can also be used to access a struct field embedded in
several struct layers.</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#6ab825;font-weight:700>type</span> A <span style=color:#6ab825;font-weight:700>struct</span>{ Num <span style=color:#6ab825;font-weight:700>int</span> }
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>// func (a *A) String() string { return fmt.Sprintf(&#34;Num is %d&#34;, a.Num) }</span>
</span></span><span style=display:flex><span><span style=color:#6ab825;font-weight:700>type</span> B <span style=color:#6ab825;font-weight:700>struct</span>{ As <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]*A }
</span></span><span style=display:flex><span><span style=color:#6ab825;font-weight:700>type</span> C <span style=color:#6ab825;font-weight:700>struct</span>{ B B }
</span></span><span style=display:flex><span>got := C{B: B{As: <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]*A{<span style=color:#ed9d13>&#34;foo&#34;</span>: {Num: <span style=color:#3677a9>12</span>}}}}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>// Tests that got.B.A.Num is 12</span>
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, got,
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(c C) <span style=color:#6ab825;font-weight:700>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> c.B.As[<span style=color:#ed9d13>&#34;foo&#34;</span>].Num
</span></span><span style=display:flex><span>  }, <span style=color:#3677a9>12</span>))</span></span></code></pre></div>
<p>As brought up above, a fields-path can be passed as <em>fn</em> value
instead of a function pointer. Using this feature, the <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#Cmp rel=external target=_blank><code>Cmp</code></a>
call in the above example can be rewritten as follows:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#999;font-style:italic>// Tests that got.B.As[&#34;foo&#34;].Num is 12</span>
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;B.As[foo].Num&#34;</span>, <span style=color:#3677a9>12</span>))</span></span></code></pre></div>
<p>In addition, simple public methods can also be called like in:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;B.As[foo].String()&#34;</span>, <span style=color:#ed9d13>&#34;Num is 12&#34;</span>))</span></span></code></pre></div>
<p>Allowed methods must not take <code>any</code> parameter and must return one
value or a value and an <a href=https://pkg.go.dev/builtin#error rel=external target=_blank><code>error</code></a>. For the latter case, if the method
returns a non-<code>nil</code> <a href=https://pkg.go.dev/builtin#error rel=external target=_blank><code>error</code></a>, the comparison fails. The comparison also
fails if a panic occurs or if a method cannot be called. No private
fields should be traversed before calling the method. For fun,
consider a more complex example involving <a href=https://pkg.go.dev/reflect rel=external target=_blank><code>reflect</code></a> and chaining
method calls:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>got := reflect.<span style=color:#447fcf>Valueof</span>(&amp;C{B: B{As: <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]*A{<span style=color:#ed9d13>&#34;foo&#34;</span>: {Num: <span style=color:#3677a9>12</span>}}}})
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;Elem().Interface().B.As[foo].String()&#34;</span>, <span style=color:#ed9d13>&#34;Num is 12&#34;</span>))</span></span></code></pre></div>
<p>Contrary to <a href=https://go-testdeep.zetta.rocks/operators/jsonpointer/ rel=external target=_blank><code>JSONPointer</code></a> operator, private fields can be followed
and public methods on public fields can be called. Arrays, slices
and maps work using the index/key inside square brackets (e.g. [12]
or [foo]). Maps work only for simple key types (<code>string</code> or numbers),
without "" when using strings (e.g. [foo]).</p>
<p>Behind the scenes, a temporary function is automatically created to
achieve the same goal, but adds some checks against <code>nil</code> values and
auto-dereferences interfaces and pointers, even on several levels,
like in:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#6ab825;font-weight:700>type</span> A <span style=color:#6ab825;font-weight:700>struct</span>{ N <span style=color:#6ab825;font-weight:700>any</span> }
</span></span><span style=display:flex><span>num := <span style=color:#3677a9>12</span>
</span></span><span style=display:flex><span>pnum := &amp;num
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, A{N: &amp;pnum}, td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;N&#34;</span>, <span style=color:#3677a9>12</span>))</span></span></code></pre></div>
<p>Last but not least, a simple type can be passed as <em>fn</em> to operate
a cast, handling specifically strings and slices of bytes:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>`{&#34;foo&#34;:1}`</span>, td.<span style=color:#447fcf>Smuggle</span>(json.RawMessage{}, td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:1}`</span>)))
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>// or equally</span>
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>`{&#34;foo&#34;:1}`</span>, td.<span style=color:#447fcf>Smuggle</span>(json.<span style=color:#447fcf>RawMessage</span>(<span style=color:#6ab825;font-weight:700>nil</span>), td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:1}`</span>)))</span></span></code></pre></div>
<p>converts on the fly a <code>string</code> to a <a href=https://pkg.go.dev/encoding/json#RawMessage rel=external target=_blank>json.RawMessage</a> so <a href=https://go-testdeep.zetta.rocks/operators/json/ rel=external target=_blank><code>JSON</code></a> operator
can parse it as JSON. This is mostly a shortcut for:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>`{&#34;foo&#34;:1}`</span>, td.<span style=color:#447fcf>Smuggle</span>(
</span></span><span style=display:flex><span>  <span style=color:#6ab825;font-weight:700>func</span>(r json.RawMessage) json.RawMessage { <span style=color:#6ab825;font-weight:700>return</span> r },
</span></span><span style=display:flex><span>  td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:1}`</span>)))</span></span></code></pre></div>
<p>except that for strings and slices of bytes (like here), it accepts
<a href=https://pkg.go.dev/io#Reader rel=external target=_blank><code>io.Reader</code></a> interface too:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#6ab825;font-weight:700>var</span> body io.Reader
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>// …</span>
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, body, td.<span style=color:#447fcf>Smuggle</span>(json.RawMessage{}, td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:1}`</span>)))
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>// or equally</span>
</span></span><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, body, td.<span style=color:#447fcf>Smuggle</span>(json.<span style=color:#447fcf>RawMessage</span>(<span style=color:#6ab825;font-weight:700>nil</span>), td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:1}`</span>)))</span></span></code></pre></div>
<p>This last example allows to easily inject body content into JSON
operator.</p>
<p>The difference between Smuggle and <a href=https://go-testdeep.zetta.rocks/operators/code/ rel=external target=_blank><code>Code</code></a> operators is that <a href=https://go-testdeep.zetta.rocks/operators/code/ rel=external target=_blank><code>Code</code></a>
is used to do a final comparison while Smuggle transforms the data
and then steps down in favor of generic comparison
process. Moreover, the type accepted as input for the function is
more lax to facilitate the writing of tests (e.g. the function can
accept a <code>float64</code> and the got value be an <code>int</code>). See examples. On the
other hand, the output type is strict and must match exactly the
expected value type. The fields-path <code>string</code> <em>fn</em> shortcut and the
cast feature are not available with <a href=https://go-testdeep.zetta.rocks/operators/code/ rel=external target=_blank><code>Code</code></a> operator.</p>
<p><a href=https://go-testdeep.zetta.rocks/operators/#typebehind-method rel=external target=_blank><code>TypeBehind</code></a> method returns the <a href=https://pkg.go.dev/reflect#Type rel=external target=_blank><code>reflect.Type</code></a> of only parameter of
<em>fn</em>. For the case where <em>fn</em> is a fields-path, it is always
<code>any</code>, as the type can not be known in advance.</p>
<blockquote>
<p>See also <a href=https://go-testdeep.zetta.rocks/operators/code/ rel=external target=_blank><code>Code</code></a>, <a href=https://go-testdeep.zetta.rocks/operators/jsonpointer/ rel=external target=_blank><code>JSONPointer</code></a> and <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#Flatten rel=external target=_blank><code>Flatten</code></a>.</p></blockquote>
<blockquote>
<p>See also <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#Smuggle rel=external target=_blank> Smuggle godoc</a>.</p></blockquote>
<h3 id=examples>Examples</h3>
<p>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Convert example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	got := <span style=color:#24909d>int64</span>(<span style=color:#3677a9>123</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>Cmp</span>(t, got,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(n <span style=color:#6ab825;font-weight:700>int64</span>) <span style=color:#6ab825;font-weight:700>int</span> { <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#24909d>int</span>(n) }, <span style=color:#3677a9>123</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks int64 got against an int value&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;123&#34;</span>,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>bool</span>) {
</span></span><span style=display:flex><span>				n, err := strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>return</span> n, err == <span style=color:#6ab825;font-weight:700>nil</span>
</span></span><span style=display:flex><span>			},
</span></span><span style=display:flex><span>			td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>)),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;123&#34;</span>,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>bool</span>, <span style=color:#6ab825;font-weight:700>string</span>) {
</span></span><span style=display:flex><span>				n, err := strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>					<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, <span style=color:#6ab825;font-weight:700>false</span>, <span style=color:#ed9d13>&#34;string must contain a number&#34;</span>
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>return</span> n, <span style=color:#6ab825;font-weight:700>true</span>, <span style=color:#ed9d13>&#34;&#34;</span>
</span></span><span style=display:flex><span>			},
</span></span><span style=display:flex><span>			td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>)),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;123&#34;</span>,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>error</span>) { <span style=color:#999;font-style:italic>//nolint: gocritic</span>
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>return</span> strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>			},
</span></span><span style=display:flex><span>			td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>)),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Short version :)</span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#ed9d13>&#34;123&#34;</span>,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(strconv.Atoi, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>)),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Lax example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// got is an int16 and Smuggle func input is an int64: it is OK</span>
</span></span><span style=display:flex><span>	got := <span style=color:#24909d>int</span>(<span style=color:#3677a9>123</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>Cmp</span>(t, got,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(n <span style=color:#6ab825;font-weight:700>int64</span>) <span style=color:#6ab825;font-weight:700>uint32</span> { <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#24909d>uint32</span>(n) }, <span style=color:#24909d>uint32</span>(<span style=color:#3677a9>123</span>)))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;got int16(123) → smuggle via int64 → uint32(123):&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// got int16(123) → smuggle via int64 → uint32(123): true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Auto_unmarshal example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically json.Unmarshal to compare</span>
</span></span><span style=display:flex><span>	got := []<span style=color:#24909d>byte</span>(<span style=color:#ed9d13>`{&#34;a&#34;:1,&#34;b&#34;:2}`</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>Cmp</span>(t, got,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>func</span>(b json.RawMessage) (r <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>int</span>, err <span style=color:#6ab825;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>				err = json.<span style=color:#447fcf>Unmarshal</span>(b, &amp;r)
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>return</span>
</span></span><span style=display:flex><span>			},
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>int</span>{
</span></span><span style=display:flex><span>				<span style=color:#ed9d13>&#34;a&#34;</span>: <span style=color:#3677a9>1</span>,
</span></span><span style=display:flex><span>				<span style=color:#ed9d13>&#34;b&#34;</span>: <span style=color:#3677a9>2</span>,
</span></span><span style=display:flex><span>			}))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents is OK: true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Cast example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// A string containing JSON</span>
</span></span><span style=display:flex><span>	got := <span style=color:#ed9d13>`{ &#34;foo&#34;: 123 }`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically cast a string to a json.RawMessage so td.JSON can operate</span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>Cmp</span>(t, got,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(json.RawMessage{}, td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:123}`</span>)))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents in string is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically read from io.Reader to a json.RawMessage</span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, bytes.<span style=color:#447fcf>NewReader</span>([]<span style=color:#24909d>byte</span>(got)),
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(json.RawMessage{}, td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:123}`</span>)))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents just read is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents in string is OK: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents just read is OK: true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Complex example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// No end date but a start date and a duration</span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> StartDuration <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		StartDate time.Time
</span></span><span style=display:flex><span>		Duration  time.Duration
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Checks that end date is between 17th and 19th February both at 0h</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// for each of these durations in hours</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>for</span> _, duration := <span style=color:#6ab825;font-weight:700>range</span> []time.Duration{<span style=color:#3677a9>48</span> * time.Hour, <span style=color:#3677a9>72</span> * time.Hour, <span style=color:#3677a9>96</span> * time.Hour} {
</span></span><span style=display:flex><span>		got := StartDuration{
</span></span><span style=display:flex><span>			StartDate: time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>14</span>, <span style=color:#3677a9>12</span>, <span style=color:#3677a9>13</span>, <span style=color:#3677a9>14</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>			Duration:  duration,
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// Simplest way, but in case of Between() failure, error will be bound</span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// to DATA&lt;smuggled&gt;, not very clear...</span>
</span></span><span style=display:flex><span>		ok := td.<span style=color:#447fcf>Cmp</span>(t, got,
</span></span><span style=display:flex><span>			td.<span style=color:#447fcf>Smuggle</span>(
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>func</span>(sd StartDuration) time.Time {
</span></span><span style=display:flex><span>					<span style=color:#6ab825;font-weight:700>return</span> sd.StartDate.<span style=color:#447fcf>Add</span>(sd.Duration)
</span></span><span style=display:flex><span>				},
</span></span><span style=display:flex><span>				td.<span style=color:#447fcf>Between</span>(
</span></span><span style=display:flex><span>					time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>17</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>					time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>19</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC))))
</span></span><span style=display:flex><span>		fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// Name the computed value &#34;ComputedEndDate&#34; to render a Between() failure</span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// more understandable, so error will be bound to DATA.ComputedEndDate</span>
</span></span><span style=display:flex><span>		ok = td.<span style=color:#447fcf>Cmp</span>(t, got,
</span></span><span style=display:flex><span>			td.<span style=color:#447fcf>Smuggle</span>(
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>func</span>(sd StartDuration) td.SmuggledGot {
</span></span><span style=display:flex><span>					<span style=color:#6ab825;font-weight:700>return</span> td.SmuggledGot{
</span></span><span style=display:flex><span>						Name: <span style=color:#ed9d13>&#34;ComputedEndDate&#34;</span>,
</span></span><span style=display:flex><span>						Got:  sd.StartDate.<span style=color:#447fcf>Add</span>(sd.Duration),
</span></span><span style=display:flex><span>					}
</span></span><span style=display:flex><span>				},
</span></span><span style=display:flex><span>				td.<span style=color:#447fcf>Between</span>(
</span></span><span style=display:flex><span>					time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>17</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>					time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>19</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC))))
</span></span><span style=display:flex><span>		fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// false</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// false</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Interface example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	gotTime, err := time.<span style=color:#447fcf>Parse</span>(time.RFC3339, <span style=color:#ed9d13>&#34;2018-05-23T12:13:14Z&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>		t.<span style=color:#447fcf>Fatal</span>(err)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Do not check the struct itself, but its stringified form</span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>Cmp</span>(t, gotTime,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(s fmt.Stringer) <span style=color:#6ab825;font-weight:700>string</span> {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> s.<span style=color:#447fcf>String</span>()
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>			<span style=color:#ed9d13>&#34;2018-05-23 12:13:14 +0000 UTC&#34;</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;stringified time.Time OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// If got does not implement the fmt.Stringer interface, it fails</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// without calling the Smuggle func</span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> MyTime time.Time
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, <span style=color:#447fcf>MyTime</span>(gotTime),
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#6ab825;font-weight:700>func</span>(s fmt.Stringer) <span style=color:#6ab825;font-weight:700>string</span> {
</span></span><span style=display:flex><span>			fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Smuggle func called!&#34;</span>)
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> s.<span style=color:#447fcf>String</span>()
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>			<span style=color:#ed9d13>&#34;2018-05-23 12:13:14 +0000 UTC&#34;</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;stringified MyTime OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// stringified time.Time OK: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// stringified MyTime OK: false</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Field_path example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Body <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Name  <span style=color:#6ab825;font-weight:700>string</span>
</span></span><span style=display:flex><span>		Value <span style=color:#6ab825;font-weight:700>any</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Request <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Body *Body
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Transaction <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Request
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> ValueNum <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Num <span style=color:#6ab825;font-weight:700>int</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	got := &amp;Transaction{
</span></span><span style=display:flex><span>		Request: Request{
</span></span><span style=display:flex><span>			Body: &amp;Body{
</span></span><span style=display:flex><span>				Name:  <span style=color:#ed9d13>&#34;test&#34;</span>,
</span></span><span style=display:flex><span>				Value: &amp;ValueNum{Num: <span style=color:#3677a9>123</span>},
</span></span><span style=display:flex><span>			},
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Want to check whether Num is between 100 and 200?</span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>Cmp</span>(t, got,
</span></span><span style=display:flex><span>		td.<span style=color:#447fcf>Smuggle</span>(
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>func</span>(tr *Transaction) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>if</span> tr.Body == <span style=color:#6ab825;font-weight:700>nil</span> ||
</span></span><span style=display:flex><span>					tr.Body.Value == <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>					<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, errors.<span style=color:#447fcf>New</span>(<span style=color:#ed9d13>&#34;Request.Body or Request.Body.Value is nil&#34;</span>)
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>if</span> v, ok := tr.Body.Value.(*ValueNum); ok &amp;&amp; v != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>					<span style=color:#6ab825;font-weight:700>return</span> v.Num, <span style=color:#6ab825;font-weight:700>nil</span>
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, errors.<span style=color:#447fcf>New</span>(<span style=color:#ed9d13>&#34;Request.Body.Value isn&#39;t *ValueNum or nil&#34;</span>)
</span></span><span style=display:flex><span>			},
</span></span><span style=display:flex><span>			td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>)))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num by hand:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Same, but automagically generated...</span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;Request.Body.Value.Num&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>)))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num using a fields-path:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// And as Request is an anonymous field, can be simplified further</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// as it can be omitted</span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;Body.Value.Num&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>)))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num using an other fields-path:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Note that maps and array/slices are supported</span>
</span></span><span style=display:flex><span>	got.Body.Value = <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>any</span>{
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;foo&#34;</span>: []<span style=color:#6ab825;font-weight:700>any</span>{
</span></span><span style=display:flex><span>			<span style=color:#3677a9>3</span>: <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>int</span>]<span style=color:#6ab825;font-weight:700>string</span>{<span style=color:#3677a9>666</span>: <span style=color:#ed9d13>&#34;bar&#34;</span>},
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;Body.Value[foo][3][666]&#34;</span>, <span style=color:#ed9d13>&#34;bar&#34;</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check fields-path including maps/slices:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num by hand: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num using a fields-path: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num using an other fields-path: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check fields-path including maps/slices: true</span></span></span></code></pre></div>
</div>
</details></p>
<h2 id=cmpsmuggle-shortcut>CmpSmuggle shortcut</h2>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#6ab825;font-weight:700>func</span> <span style=color:#447fcf>CmpSmuggle</span>(t TestingT, got, fn , expectedValue <span style=color:#6ab825;font-weight:700>any</span>, args ...<span style=color:#6ab825;font-weight:700>any</span>) <span style=color:#6ab825;font-weight:700>bool</span></span></span></code></pre></div>
<p>CmpSmuggle is a shortcut for:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>Smuggle</span>(fn, expectedValue), args...)</span></span></code></pre></div>
<p>See above for details.</p>
<p>Returns true if the test is OK, false if it fails.</p>
<p>If <em>t</em> is a <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#T rel=external target=_blank><code>*T</code></a> then its Config field is inherited.</p>
<p><em>args&mldr;</em> are optional and allow to name the test. This name is
used in case of failure to qualify the test. If <code>len(args) > 1</code> and
the first item of <em>args</em> is a <code>string</code> and contains a &lsquo;%&rsquo; <code>rune</code> then
<a href=https://pkg.go.dev/fmt#Fprintf rel=external target=_blank><code>fmt.Fprintf</code></a> is used to compose the name, else <em>args</em> are passed to
<a href=https://pkg.go.dev/fmt#Fprint rel=external target=_blank><code>fmt.Fprint</code></a>. Do not forget it is the name of the test, not the
reason of a potential failure.</p>
<blockquote>
<p>See also <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#CmpSmuggle rel=external target=_blank> CmpSmuggle godoc</a>.</p></blockquote>
<h3 id=examples-1>Examples</h3>
<p>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Convert example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	got := <span style=color:#24909d>int64</span>(<span style=color:#3677a9>123</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#6ab825;font-weight:700>func</span>(n <span style=color:#6ab825;font-weight:700>int64</span>) <span style=color:#6ab825;font-weight:700>int</span> { <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#24909d>int</span>(n) }, <span style=color:#3677a9>123</span>,
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks int64 got against an int value&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, <span style=color:#ed9d13>&#34;123&#34;</span>, <span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>bool</span>) {
</span></span><span style=display:flex><span>		n, err := strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> n, err == <span style=color:#6ab825;font-weight:700>nil</span>
</span></span><span style=display:flex><span>	}, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, <span style=color:#ed9d13>&#34;123&#34;</span>, <span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>bool</span>, <span style=color:#6ab825;font-weight:700>string</span>) {
</span></span><span style=display:flex><span>		n, err := strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, <span style=color:#6ab825;font-weight:700>false</span>, <span style=color:#ed9d13>&#34;string must contain a number&#34;</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> n, <span style=color:#6ab825;font-weight:700>true</span>, <span style=color:#ed9d13>&#34;&#34;</span>
</span></span><span style=display:flex><span>	}, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, <span style=color:#ed9d13>&#34;123&#34;</span>, <span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>error</span>) { <span style=color:#999;font-style:italic>//nolint: gocritic</span>
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>	}, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Short version :)</span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, <span style=color:#ed9d13>&#34;123&#34;</span>, strconv.Atoi, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Lax example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// got is an int16 and Smuggle func input is an int64: it is OK</span>
</span></span><span style=display:flex><span>	got := <span style=color:#24909d>int</span>(<span style=color:#3677a9>123</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#6ab825;font-weight:700>func</span>(n <span style=color:#6ab825;font-weight:700>int64</span>) <span style=color:#6ab825;font-weight:700>uint32</span> { <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#24909d>uint32</span>(n) }, <span style=color:#24909d>uint32</span>(<span style=color:#3677a9>123</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;got int16(123) → smuggle via int64 → uint32(123):&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// got int16(123) → smuggle via int64 → uint32(123): true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Auto_unmarshal example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically json.Unmarshal to compare</span>
</span></span><span style=display:flex><span>	got := []<span style=color:#24909d>byte</span>(<span style=color:#ed9d13>`{&#34;a&#34;:1,&#34;b&#34;:2}`</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#6ab825;font-weight:700>func</span>(b json.RawMessage) (r <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>int</span>, err <span style=color:#6ab825;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>		err = json.<span style=color:#447fcf>Unmarshal</span>(b, &amp;r)
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span>
</span></span><span style=display:flex><span>	}, <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>int</span>{
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;a&#34;</span>: <span style=color:#3677a9>1</span>,
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;b&#34;</span>: <span style=color:#3677a9>2</span>,
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents is OK: true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Cast example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// A string containing JSON</span>
</span></span><span style=display:flex><span>	got := <span style=color:#ed9d13>`{ &#34;foo&#34;: 123 }`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically cast a string to a json.RawMessage so td.JSON can operate</span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, json.RawMessage{}, td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:123}`</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents in string is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically read from io.Reader to a json.RawMessage</span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, bytes.<span style=color:#447fcf>NewReader</span>([]<span style=color:#24909d>byte</span>(got)), json.RawMessage{}, td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:123}`</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents just read is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents in string is OK: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents just read is OK: true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Complex example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// No end date but a start date and a duration</span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> StartDuration <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		StartDate time.Time
</span></span><span style=display:flex><span>		Duration  time.Duration
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Checks that end date is between 17th and 19th February both at 0h</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// for each of these durations in hours</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>for</span> _, duration := <span style=color:#6ab825;font-weight:700>range</span> []time.Duration{<span style=color:#3677a9>48</span> * time.Hour, <span style=color:#3677a9>72</span> * time.Hour, <span style=color:#3677a9>96</span> * time.Hour} {
</span></span><span style=display:flex><span>		got := StartDuration{
</span></span><span style=display:flex><span>			StartDate: time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>14</span>, <span style=color:#3677a9>12</span>, <span style=color:#3677a9>13</span>, <span style=color:#3677a9>14</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>			Duration:  duration,
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// Simplest way, but in case of Between() failure, error will be bound</span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// to DATA&lt;smuggled&gt;, not very clear...</span>
</span></span><span style=display:flex><span>		ok := td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#6ab825;font-weight:700>func</span>(sd StartDuration) time.Time {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> sd.StartDate.<span style=color:#447fcf>Add</span>(sd.Duration)
</span></span><span style=display:flex><span>		}, td.<span style=color:#447fcf>Between</span>(
</span></span><span style=display:flex><span>			time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>17</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>			time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>19</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC)))
</span></span><span style=display:flex><span>		fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// Name the computed value &#34;ComputedEndDate&#34; to render a Between() failure</span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// more understandable, so error will be bound to DATA.ComputedEndDate</span>
</span></span><span style=display:flex><span>		ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#6ab825;font-weight:700>func</span>(sd StartDuration) td.SmuggledGot {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> td.SmuggledGot{
</span></span><span style=display:flex><span>				Name: <span style=color:#ed9d13>&#34;ComputedEndDate&#34;</span>,
</span></span><span style=display:flex><span>				Got:  sd.StartDate.<span style=color:#447fcf>Add</span>(sd.Duration),
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}, td.<span style=color:#447fcf>Between</span>(
</span></span><span style=display:flex><span>			time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>17</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>			time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>19</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC)))
</span></span><span style=display:flex><span>		fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// false</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// false</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Interface example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	gotTime, err := time.<span style=color:#447fcf>Parse</span>(time.RFC3339, <span style=color:#ed9d13>&#34;2018-05-23T12:13:14Z&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>		t.<span style=color:#447fcf>Fatal</span>(err)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Do not check the struct itself, but its stringified form</span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>CmpSmuggle</span>(t, gotTime, <span style=color:#6ab825;font-weight:700>func</span>(s fmt.Stringer) <span style=color:#6ab825;font-weight:700>string</span> {
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> s.<span style=color:#447fcf>String</span>()
</span></span><span style=display:flex><span>	}, <span style=color:#ed9d13>&#34;2018-05-23 12:13:14 +0000 UTC&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;stringified time.Time OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// If got does not implement the fmt.Stringer interface, it fails</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// without calling the Smuggle func</span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> MyTime time.Time
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, <span style=color:#447fcf>MyTime</span>(gotTime), <span style=color:#6ab825;font-weight:700>func</span>(s fmt.Stringer) <span style=color:#6ab825;font-weight:700>string</span> {
</span></span><span style=display:flex><span>		fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Smuggle func called!&#34;</span>)
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> s.<span style=color:#447fcf>String</span>()
</span></span><span style=display:flex><span>	}, <span style=color:#ed9d13>&#34;2018-05-23 12:13:14 +0000 UTC&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;stringified MyTime OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// stringified time.Time OK: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// stringified MyTime OK: false</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Field_path example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := &amp;testing.T{}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Body <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Name  <span style=color:#6ab825;font-weight:700>string</span>
</span></span><span style=display:flex><span>		Value <span style=color:#6ab825;font-weight:700>any</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Request <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Body *Body
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Transaction <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Request
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> ValueNum <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Num <span style=color:#6ab825;font-weight:700>int</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	got := &amp;Transaction{
</span></span><span style=display:flex><span>		Request: Request{
</span></span><span style=display:flex><span>			Body: &amp;Body{
</span></span><span style=display:flex><span>				Name:  <span style=color:#ed9d13>&#34;test&#34;</span>,
</span></span><span style=display:flex><span>				Value: &amp;ValueNum{Num: <span style=color:#3677a9>123</span>},
</span></span><span style=display:flex><span>			},
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Want to check whether Num is between 100 and 200?</span>
</span></span><span style=display:flex><span>	ok := td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#6ab825;font-weight:700>func</span>(tr *Transaction) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>if</span> tr.Body == <span style=color:#6ab825;font-weight:700>nil</span> ||
</span></span><span style=display:flex><span>			tr.Body.Value == <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, errors.<span style=color:#447fcf>New</span>(<span style=color:#ed9d13>&#34;Request.Body or Request.Body.Value is nil&#34;</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>if</span> v, ok := tr.Body.Value.(*ValueNum); ok &amp;&amp; v != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> v.Num, <span style=color:#6ab825;font-weight:700>nil</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, errors.<span style=color:#447fcf>New</span>(<span style=color:#ed9d13>&#34;Request.Body.Value isn&#39;t *ValueNum or nil&#34;</span>)
</span></span><span style=display:flex><span>	}, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num by hand:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Same, but automagically generated...</span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#ed9d13>&#34;Request.Body.Value.Num&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num using a fields-path:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// And as Request is an anonymous field, can be simplified further</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// as it can be omitted</span>
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#ed9d13>&#34;Body.Value.Num&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num using an other fields-path:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Note that maps and array/slices are supported</span>
</span></span><span style=display:flex><span>	got.Body.Value = <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>any</span>{
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;foo&#34;</span>: []<span style=color:#6ab825;font-weight:700>any</span>{
</span></span><span style=display:flex><span>			<span style=color:#3677a9>3</span>: <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>int</span>]<span style=color:#6ab825;font-weight:700>string</span>{<span style=color:#3677a9>666</span>: <span style=color:#ed9d13>&#34;bar&#34;</span>},
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	ok = td.<span style=color:#447fcf>CmpSmuggle</span>(t, got, <span style=color:#ed9d13>&#34;Body.Value[foo][3][666]&#34;</span>, <span style=color:#ed9d13>&#34;bar&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check fields-path including maps/slices:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num by hand: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num using a fields-path: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num using an other fields-path: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check fields-path including maps/slices: true</span></span></span></code></pre></div>
</div>
</details></p>
<h2 id=tsmuggle-shortcut>T.Smuggle shortcut</h2>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#6ab825;font-weight:700>func</span> (t *T) <span style=color:#447fcf>Smuggle</span>(got, fn , expectedValue <span style=color:#6ab825;font-weight:700>any</span>, args ...<span style=color:#6ab825;font-weight:700>any</span>) <span style=color:#6ab825;font-weight:700>bool</span></span></span></code></pre></div>
<p>Smuggle is a shortcut for:</p>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>t.<span style=color:#447fcf>Cmp</span>(got, td.<span style=color:#447fcf>Smuggle</span>(fn, expectedValue), args...)</span></span></code></pre></div>
<p>See above for details.</p>
<p>Returns true if the test is OK, false if it fails.</p>
<p><em>args&mldr;</em> are optional and allow to name the test. This name is
used in case of failure to qualify the test. If <code>len(args) > 1</code> and
the first item of <em>args</em> is a <code>string</code> and contains a &lsquo;%&rsquo; <code>rune</code> then
<a href=https://pkg.go.dev/fmt#Fprintf rel=external target=_blank><code>fmt.Fprintf</code></a> is used to compose the name, else <em>args</em> are passed to
<a href=https://pkg.go.dev/fmt#Fprint rel=external target=_blank><code>fmt.Fprint</code></a>. Do not forget it is the name of the test, not the
reason of a potential failure.</p>
<blockquote>
<p>See also <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#T.Smuggle rel=external target=_blank> T.Smuggle godoc</a>.</p></blockquote>
<h3 id=examples-2>Examples</h3>
<p>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Convert example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	got := <span style=color:#24909d>int64</span>(<span style=color:#3677a9>123</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#6ab825;font-weight:700>func</span>(n <span style=color:#6ab825;font-weight:700>int64</span>) <span style=color:#6ab825;font-weight:700>int</span> { <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#24909d>int</span>(n) }, <span style=color:#3677a9>123</span>,
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks int64 got against an int value&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;123&#34;</span>, <span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>bool</span>) {
</span></span><span style=display:flex><span>		n, err := strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> n, err == <span style=color:#6ab825;font-weight:700>nil</span>
</span></span><span style=display:flex><span>	}, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;123&#34;</span>, <span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>bool</span>, <span style=color:#6ab825;font-weight:700>string</span>) {
</span></span><span style=display:flex><span>		n, err := strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, <span style=color:#6ab825;font-weight:700>false</span>, <span style=color:#ed9d13>&#34;string must contain a number&#34;</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> n, <span style=color:#6ab825;font-weight:700>true</span>, <span style=color:#ed9d13>&#34;&#34;</span>
</span></span><span style=display:flex><span>	}, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;123&#34;</span>, <span style=color:#6ab825;font-weight:700>func</span>(numStr <span style=color:#6ab825;font-weight:700>string</span>) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>error</span>) { <span style=color:#999;font-style:italic>//nolint: gocritic</span>
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> strconv.<span style=color:#447fcf>Atoi</span>(numStr)
</span></span><span style=display:flex><span>	}, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Short version :)</span>
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(<span style=color:#ed9d13>&#34;123&#34;</span>, strconv.Atoi, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>120</span>, <span style=color:#3677a9>130</span>),
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;checks that number in %#v is in [120 .. 130]&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Lax example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// got is an int16 and Smuggle func input is an int64: it is OK</span>
</span></span><span style=display:flex><span>	got := <span style=color:#24909d>int</span>(<span style=color:#3677a9>123</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#6ab825;font-weight:700>func</span>(n <span style=color:#6ab825;font-weight:700>int64</span>) <span style=color:#6ab825;font-weight:700>uint32</span> { <span style=color:#6ab825;font-weight:700>return</span> <span style=color:#24909d>uint32</span>(n) }, <span style=color:#24909d>uint32</span>(<span style=color:#3677a9>123</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;got int16(123) → smuggle via int64 → uint32(123):&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// got int16(123) → smuggle via int64 → uint32(123): true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Auto_unmarshal example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically json.Unmarshal to compare</span>
</span></span><span style=display:flex><span>	got := []<span style=color:#24909d>byte</span>(<span style=color:#ed9d13>`{&#34;a&#34;:1,&#34;b&#34;:2}`</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	ok := t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#6ab825;font-weight:700>func</span>(b json.RawMessage) (r <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>int</span>, err <span style=color:#6ab825;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>		err = json.<span style=color:#447fcf>Unmarshal</span>(b, &amp;r)
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span>
</span></span><span style=display:flex><span>	}, <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>int</span>{
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;a&#34;</span>: <span style=color:#3677a9>1</span>,
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;b&#34;</span>: <span style=color:#3677a9>2</span>,
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents is OK: true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Cast example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// A string containing JSON</span>
</span></span><span style=display:flex><span>	got := <span style=color:#ed9d13>`{ &#34;foo&#34;: 123 }`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically cast a string to a json.RawMessage so td.JSON can operate</span>
</span></span><span style=display:flex><span>	ok := t.<span style=color:#447fcf>Smuggle</span>(got, json.RawMessage{}, td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:123}`</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents in string is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Automatically read from io.Reader to a json.RawMessage</span>
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(bytes.<span style=color:#447fcf>NewReader</span>([]<span style=color:#24909d>byte</span>(got)), json.RawMessage{}, td.<span style=color:#447fcf>JSON</span>(<span style=color:#ed9d13>`{&#34;foo&#34;:123}`</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;JSON contents just read is OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents in string is OK: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// JSON contents just read is OK: true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Complex example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// No end date but a start date and a duration</span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> StartDuration <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		StartDate time.Time
</span></span><span style=display:flex><span>		Duration  time.Duration
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Checks that end date is between 17th and 19th February both at 0h</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// for each of these durations in hours</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>for</span> _, duration := <span style=color:#6ab825;font-weight:700>range</span> []time.Duration{<span style=color:#3677a9>48</span> * time.Hour, <span style=color:#3677a9>72</span> * time.Hour, <span style=color:#3677a9>96</span> * time.Hour} {
</span></span><span style=display:flex><span>		got := StartDuration{
</span></span><span style=display:flex><span>			StartDate: time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>14</span>, <span style=color:#3677a9>12</span>, <span style=color:#3677a9>13</span>, <span style=color:#3677a9>14</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>			Duration:  duration,
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// Simplest way, but in case of Between() failure, error will be bound</span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// to DATA&lt;smuggled&gt;, not very clear...</span>
</span></span><span style=display:flex><span>		ok := t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#6ab825;font-weight:700>func</span>(sd StartDuration) time.Time {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> sd.StartDate.<span style=color:#447fcf>Add</span>(sd.Duration)
</span></span><span style=display:flex><span>		}, td.<span style=color:#447fcf>Between</span>(
</span></span><span style=display:flex><span>			time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>17</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>			time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>19</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC)))
</span></span><span style=display:flex><span>		fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// Name the computed value &#34;ComputedEndDate&#34; to render a Between() failure</span>
</span></span><span style=display:flex><span>		<span style=color:#999;font-style:italic>// more understandable, so error will be bound to DATA.ComputedEndDate</span>
</span></span><span style=display:flex><span>		ok = t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#6ab825;font-weight:700>func</span>(sd StartDuration) td.SmuggledGot {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> td.SmuggledGot{
</span></span><span style=display:flex><span>				Name: <span style=color:#ed9d13>&#34;ComputedEndDate&#34;</span>,
</span></span><span style=display:flex><span>				Got:  sd.StartDate.<span style=color:#447fcf>Add</span>(sd.Duration),
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}, td.<span style=color:#447fcf>Between</span>(
</span></span><span style=display:flex><span>			time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>17</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC),
</span></span><span style=display:flex><span>			time.<span style=color:#447fcf>Date</span>(<span style=color:#3677a9>2018</span>, time.February, <span style=color:#3677a9>19</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, <span style=color:#3677a9>0</span>, time.UTC)))
</span></span><span style=display:flex><span>		fmt.<span style=color:#447fcf>Println</span>(ok)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// false</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// false</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// true</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Interface example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	gotTime, err := time.<span style=color:#447fcf>Parse</span>(time.RFC3339, <span style=color:#ed9d13>&#34;2018-05-23T12:13:14Z&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>		t.<span style=color:#447fcf>Fatal</span>(err)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Do not check the struct itself, but its stringified form</span>
</span></span><span style=display:flex><span>	ok := t.<span style=color:#447fcf>Smuggle</span>(gotTime, <span style=color:#6ab825;font-weight:700>func</span>(s fmt.Stringer) <span style=color:#6ab825;font-weight:700>string</span> {
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> s.<span style=color:#447fcf>String</span>()
</span></span><span style=display:flex><span>	}, <span style=color:#ed9d13>&#34;2018-05-23 12:13:14 +0000 UTC&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;stringified time.Time OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// If got does not implement the fmt.Stringer interface, it fails</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// without calling the Smuggle func</span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> MyTime time.Time
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(<span style=color:#447fcf>MyTime</span>(gotTime), <span style=color:#6ab825;font-weight:700>func</span>(s fmt.Stringer) <span style=color:#6ab825;font-weight:700>string</span> {
</span></span><span style=display:flex><span>		fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Smuggle func called!&#34;</span>)
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> s.<span style=color:#447fcf>String</span>()
</span></span><span style=display:flex><span>	}, <span style=color:#ed9d13>&#34;2018-05-23 12:13:14 +0000 UTC&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;stringified MyTime OK:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// stringified time.Time OK: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// stringified MyTime OK: false</span></span></span></code></pre></div>
</div>
</details>
<details class="box cstyle notices transparent expand">
<summary class=box-label>
<i class="expander-icon fa-fw fas fa-chevron-right"></i>
Field_path example
</summary>
<div class=box-content>
<div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Body <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Name  <span style=color:#6ab825;font-weight:700>string</span>
</span></span><span style=display:flex><span>		Value <span style=color:#6ab825;font-weight:700>any</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Request <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Body *Body
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> Transaction <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Request
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>type</span> ValueNum <span style=color:#6ab825;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>		Num <span style=color:#6ab825;font-weight:700>int</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	got := &amp;Transaction{
</span></span><span style=display:flex><span>		Request: Request{
</span></span><span style=display:flex><span>			Body: &amp;Body{
</span></span><span style=display:flex><span>				Name:  <span style=color:#ed9d13>&#34;test&#34;</span>,
</span></span><span style=display:flex><span>				Value: &amp;ValueNum{Num: <span style=color:#3677a9>123</span>},
</span></span><span style=display:flex><span>			},
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Want to check whether Num is between 100 and 200?</span>
</span></span><span style=display:flex><span>	ok := t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#6ab825;font-weight:700>func</span>(tr *Transaction) (<span style=color:#6ab825;font-weight:700>int</span>, <span style=color:#6ab825;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>if</span> tr.Body == <span style=color:#6ab825;font-weight:700>nil</span> ||
</span></span><span style=display:flex><span>			tr.Body.Value == <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, errors.<span style=color:#447fcf>New</span>(<span style=color:#ed9d13>&#34;Request.Body or Request.Body.Value is nil&#34;</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>if</span> v, ok := tr.Body.Value.(*ValueNum); ok &amp;&amp; v != <span style=color:#6ab825;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#6ab825;font-weight:700>return</span> v.Num, <span style=color:#6ab825;font-weight:700>nil</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#6ab825;font-weight:700>return</span> <span style=color:#3677a9>0</span>, errors.<span style=color:#447fcf>New</span>(<span style=color:#ed9d13>&#34;Request.Body.Value isn&#39;t *ValueNum or nil&#34;</span>)
</span></span><span style=display:flex><span>	}, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num by hand:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Same, but automagically generated...</span>
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#ed9d13>&#34;Request.Body.Value.Num&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num using a fields-path:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// And as Request is an anonymous field, can be simplified further</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// as it can be omitted</span>
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#ed9d13>&#34;Body.Value.Num&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>100</span>, <span style=color:#3677a9>200</span>))
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check Num using an other fields-path:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Note that maps and array/slices are supported</span>
</span></span><span style=display:flex><span>	got.Body.Value = <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>string</span>]<span style=color:#6ab825;font-weight:700>any</span>{
</span></span><span style=display:flex><span>		<span style=color:#ed9d13>&#34;foo&#34;</span>: []<span style=color:#6ab825;font-weight:700>any</span>{
</span></span><span style=display:flex><span>			<span style=color:#3677a9>3</span>: <span style=color:#6ab825;font-weight:700>map</span>[<span style=color:#6ab825;font-weight:700>int</span>]<span style=color:#6ab825;font-weight:700>string</span>{<span style=color:#3677a9>666</span>: <span style=color:#ed9d13>&#34;bar&#34;</span>},
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	ok = t.<span style=color:#447fcf>Smuggle</span>(got, <span style=color:#ed9d13>&#34;Body.Value[foo][3][666]&#34;</span>, <span style=color:#ed9d13>&#34;bar&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check fields-path including maps/slices:&#34;</span>, ok)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// Output:</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num by hand: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num using a fields-path: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check Num using an other fields-path: true</span>
</span></span><span style=display:flex><span>	<span style=color:#999;font-style:italic>// check fields-path including maps/slices: true</span></span></span></code></pre></div>
</div>
</details></p>
<footer class=footline>
</footer>
</article>
</div>
</main>
</div>
<aside id=R-sidebar class=default-animation>
<div id=R-header-topbar class=default-animation></div>
<div id=R-header-wrapper class=default-animation>
<div id=R-header class=default-animation>
<a id=logo href=https://go-testdeep.zetta.rocks/><img src=https://go-testdeep.zetta.rocks//images/logo.svg></a>
</div>
<search><form action=/search/index.html method=get>
<div class="searchbox default-animation">
<button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
</div>
</form></search>
</div>
<div id=R-homelinks class=default-animation>
<div class="R-menu-divider default-animation">
<hr class=padding>
</div>
<div class="R-sidebarmenu R-shortcutmenu-homelinks">
<ul class="space collapsible-menu">
</ul>
</div>
<div class="R-menu-divider default-animation">
<hr class=padding>
</div>
<div class="R-sidebarmenu R-shortcutmenu-headercontrols">
<ul>
</ul>
</div>
<div class="R-menu-divider default-animation">
<hr class=padding>
</div>
</div>
<div id=R-content-wrapper class=highlightable>
<div class="R-sidebarmenu R-shortcutmenu-main">
<ul class="enlarge morespace collapsible-menu">
<li data-nav-id=/introduction/index.html><a class=padding href=/introduction/index.html>Introduction</a></li>
<li data-nav-id=/example/index.html><a class=padding href=/example/index.html>Tutorial</a><ul id=R-subsections-d5b8180a0a7fe1e9e661bfa1211066e5 class=collapsible-menu></ul></li>
<li data-nav-id=/functions/index.html><a class=padding href=/functions/index.html>Functions</a><ul id=R-subsections-501822a3ea1c7f0b946df0bd1ab5ce14 class=collapsible-menu></ul></li>
<li class=parent data-nav-id=/operators/index.html><a class=padding href=/operators/index.html>Operators</a><ul id=R-subsections-85c22d5653689112a82de1b1083a833a class=collapsible-menu>
<li data-nav-id=/operators/matrix/index.html><a class=padding href=/operators/matrix/index.html>Operators matrices</a></li>
<li data-nav-id=/operators/all/index.html><a class=padding href=/operators/all/index.html>All</a></li>
<li data-nav-id=/operators/any/index.html><a class=padding href=/operators/any/index.html>Any</a></li>
<li data-nav-id=/operators/array/index.html><a class=padding href=/operators/array/index.html>Array</a></li>
<li data-nav-id=/operators/arrayeach/index.html><a class=padding href=/operators/arrayeach/index.html>ArrayEach</a></li>
<li data-nav-id=/operators/bag/index.html><a class=padding href=/operators/bag/index.html>Bag</a></li>
<li data-nav-id=/operators/between/index.html><a class=padding href=/operators/between/index.html>Between</a></li>
<li data-nav-id=/operators/cap/index.html><a class=padding href=/operators/cap/index.html>Cap</a></li>
<li data-nav-id=/operators/catch/index.html><a class=padding href=/operators/catch/index.html>Catch</a></li>
<li data-nav-id=/operators/code/index.html><a class=padding href=/operators/code/index.html>Code</a></li>
<li data-nav-id=/operators/contains/index.html><a class=padding href=/operators/contains/index.html>Contains</a></li>
<li data-nav-id=/operators/containskey/index.html><a class=padding href=/operators/containskey/index.html>ContainsKey</a></li>
<li data-nav-id=/operators/delay/index.html><a class=padding href=/operators/delay/index.html>Delay</a></li>
<li data-nav-id=/operators/empty/index.html><a class=padding href=/operators/empty/index.html>Empty</a></li>
<li data-nav-id=/operators/erroris/index.html><a class=padding href=/operators/erroris/index.html>ErrorIs</a></li>
<li data-nav-id=/operators/first/index.html><a class=padding href=/operators/first/index.html>First</a></li>
<li data-nav-id=/operators/grep/index.html><a class=padding href=/operators/grep/index.html>Grep</a></li>
<li data-nav-id=/operators/gt/index.html><a class=padding href=/operators/gt/index.html>Gt</a></li>
<li data-nav-id=/operators/gte/index.html><a class=padding href=/operators/gte/index.html>Gte</a></li>
<li data-nav-id=/operators/hasprefix/index.html><a class=padding href=/operators/hasprefix/index.html>HasPrefix</a></li>
<li data-nav-id=/operators/hassuffix/index.html><a class=padding href=/operators/hassuffix/index.html>HasSuffix</a></li>
<li data-nav-id=/operators/ignore/index.html><a class=padding href=/operators/ignore/index.html>Ignore</a></li>
<li data-nav-id=/operators/isa/index.html><a class=padding href=/operators/isa/index.html>Isa</a></li>
<li data-nav-id=/operators/json/index.html><a class=padding href=/operators/json/index.html>JSON</a></li>
<li data-nav-id=/operators/jsonpointer/index.html><a class=padding href=/operators/jsonpointer/index.html>JSONPointer</a></li>
<li data-nav-id=/operators/keys/index.html><a class=padding href=/operators/keys/index.html>Keys</a></li>
<li data-nav-id=/operators/last/index.html><a class=padding href=/operators/last/index.html>Last</a></li>
<li data-nav-id=/operators/lax/index.html><a class=padding href=/operators/lax/index.html>Lax</a></li>
<li data-nav-id=/operators/len/index.html><a class=padding href=/operators/len/index.html>Len</a></li>
<li data-nav-id=/operators/lt/index.html><a class=padding href=/operators/lt/index.html>Lt</a></li>
<li data-nav-id=/operators/lte/index.html><a class=padding href=/operators/lte/index.html>Lte</a></li>
<li data-nav-id=/operators/map/index.html><a class=padding href=/operators/map/index.html>Map</a></li>
<li data-nav-id=/operators/mapeach/index.html><a class=padding href=/operators/mapeach/index.html>MapEach</a></li>
<li data-nav-id=/operators/n/index.html><a class=padding href=/operators/n/index.html>N</a></li>
<li data-nav-id=/operators/nan/index.html><a class=padding href=/operators/nan/index.html>NaN</a></li>
<li data-nav-id=/operators/nil/index.html><a class=padding href=/operators/nil/index.html>Nil</a></li>
<li data-nav-id=/operators/none/index.html><a class=padding href=/operators/none/index.html>None</a></li>
<li data-nav-id=/operators/not/index.html><a class=padding href=/operators/not/index.html>Not</a></li>
<li data-nav-id=/operators/notany/index.html><a class=padding href=/operators/notany/index.html>NotAny</a></li>
<li data-nav-id=/operators/notempty/index.html><a class=padding href=/operators/notempty/index.html>NotEmpty</a></li>
<li data-nav-id=/operators/notnan/index.html><a class=padding href=/operators/notnan/index.html>NotNaN</a></li>
<li data-nav-id=/operators/notnil/index.html><a class=padding href=/operators/notnil/index.html>NotNil</a></li>
<li data-nav-id=/operators/notzero/index.html><a class=padding href=/operators/notzero/index.html>NotZero</a></li>
<li data-nav-id=/operators/pptr/index.html><a class=padding href=/operators/pptr/index.html>PPtr</a></li>
<li data-nav-id=/operators/ptr/index.html><a class=padding href=/operators/ptr/index.html>Ptr</a></li>
<li data-nav-id=/operators/re/index.html><a class=padding href=/operators/re/index.html>Re</a></li>
<li data-nav-id=/operators/reall/index.html><a class=padding href=/operators/reall/index.html>ReAll</a></li>
<li data-nav-id=/operators/recv/index.html><a class=padding href=/operators/recv/index.html>Recv</a></li>
<li data-nav-id=/operators/set/index.html><a class=padding href=/operators/set/index.html>Set</a></li>
<li data-nav-id=/operators/shallow/index.html><a class=padding href=/operators/shallow/index.html>Shallow</a></li>
<li data-nav-id=/operators/slice/index.html><a class=padding href=/operators/slice/index.html>Slice</a></li>
<li class=active data-nav-id=/operators/smuggle/index.html><a class=padding href=/operators/smuggle/index.html>Smuggle</a></li>
<li data-nav-id=/operators/sstruct/index.html><a class=padding href=/operators/sstruct/index.html>SStruct</a></li>
<li data-nav-id=/operators/string/index.html><a class=padding href=/operators/string/index.html>String</a></li>
<li data-nav-id=/operators/struct/index.html><a class=padding href=/operators/struct/index.html>Struct</a></li>
<li data-nav-id=/operators/subbagof/index.html><a class=padding href=/operators/subbagof/index.html>SubBagOf</a></li>
<li data-nav-id=/operators/subjsonof/index.html><a class=padding href=/operators/subjsonof/index.html>SubJSONOf</a></li>
<li data-nav-id=/operators/submapof/index.html><a class=padding href=/operators/submapof/index.html>SubMapOf</a></li>
<li data-nav-id=/operators/subsetof/index.html><a class=padding href=/operators/subsetof/index.html>SubSetOf</a></li>
<li data-nav-id=/operators/superbagof/index.html><a class=padding href=/operators/superbagof/index.html>SuperBagOf</a></li>
<li data-nav-id=/operators/superjsonof/index.html><a class=padding href=/operators/superjsonof/index.html>SuperJSONOf</a></li>
<li data-nav-id=/operators/supermapof/index.html><a class=padding href=/operators/supermapof/index.html>SuperMapOf</a></li>
<li data-nav-id=/operators/supersetof/index.html><a class=padding href=/operators/supersetof/index.html>SuperSetOf</a></li>
<li data-nav-id=/operators/supersliceof/index.html><a class=padding href=/operators/supersliceof/index.html>SuperSliceOf</a></li>
<li data-nav-id=/operators/tag/index.html><a class=padding href=/operators/tag/index.html>Tag</a></li>
<li data-nav-id=/operators/trunctime/index.html><a class=padding href=/operators/trunctime/index.html>TruncTime</a></li>
<li data-nav-id=/operators/values/index.html><a class=padding href=/operators/values/index.html>Values</a></li>
<li data-nav-id=/operators/zero/index.html><a class=padding href=/operators/zero/index.html>Zero</a></li></ul></li>
<li data-nav-id=/helpers/index.html><a class=padding href=/helpers/index.html>Helpers</a></li>
<li data-nav-id=/faq/index.html><a class=padding href=/faq/index.html>FAQ</a></li>
</ul>
</div>
<div class="R-sidebarmenu R-shortcutmenu-shortcuts">
<div class="nav-title padding">More</div>
<ul class="space collapsible-menu">
<li data-nav-id=/prez><a class=padding href=/prez><i class='fab fa-slideshare'></i>&nbsp;Presentation</a></li>
<li data-nav-id=https://github.com/maxatome/go-testdeep><a class=padding href=https://github.com/maxatome/go-testdeep rel=external target=_blank><i class='fab fa-github'></i>&nbsp;Github repo</a></li>
<li data-nav-id=https://pkg.go.dev/github.com/maxatome/go-testdeep/td><a class=padding href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td rel=external target=_blank><i class='fas fa-book'></i>&nbsp;godoc</a></li>
<li data-nav-id=https://pkg.go.dev/github.com/maxatome/go-testdeep/helpers/tdhttp><a class=padding href=https://pkg.go.dev/github.com/maxatome/go-testdeep/helpers/tdhttp rel=external target=_blank><i class='fas fa-book'></i>&nbsp;godoc API tester — tdhttp</a></li>
<li data-nav-id=https://pkg.go.dev/github.com/maxatome/go-testdeep/helpers/tdsuite><a class=padding href=https://pkg.go.dev/github.com/maxatome/go-testdeep/helpers/tdsuite rel=external target=_blank><i class='fas fa-book'></i>&nbsp;godoc testing suite — tdsuite</a></li>
<li data-nav-id=https://pkg.go.dev/github.com/maxatome/go-testdeep/helpers/tdutil><a class=padding href=https://pkg.go.dev/github.com/maxatome/go-testdeep/helpers/tdutil rel=external target=_blank><i class='fas fa-book'></i>&nbsp;godoc helpers utils — tdutil</a></li>
</ul>
</div>
<div id=R-footer-margin></div>
<div class="R-menu-divider default-animation">
<hr class=padding>
</div>
<div class="R-sidebarmenu R-shortcutmenu-footercontrols">
<ul>
</ul>
</div>
<div id=R-footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div>
</div>
</aside>
<script src=/js/clipboard/clipboard.min.js?1744923393 defer></script>
<script src=/js/perfect-scrollbar/perfect-scrollbar.min.js?1744923393 defer></script>
<script src=/js/theme.min.js?1744923393 defer></script>
</body>
</html>