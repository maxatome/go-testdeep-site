<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.78.2">
<meta name=description content>
<link rel=icon href=/images/favicon.png type=image/png>
<title>SuperJSONOf :: go-testdeep</title>
<link href=/css/nucleus.css?1606729825 rel=stylesheet>
<link href=/css/fontawesome-all.min.css?1606729825 rel=stylesheet>
<link href=/css/hybrid.css?1606729825 rel=stylesheet>
<link href=/css/featherlight.min.css?1606729825 rel=stylesheet>
<link href=/css/perfect-scrollbar.min.css?1606729825 rel=stylesheet>
<link href=/css/auto-complete.css?1606729825 rel=stylesheet>
<link href=/css/atom-one-dark-reasonable.css?1606729825 rel=stylesheet>
<link href=/css/theme.css?1606729825 rel=stylesheet>
<link href=/css/hugo-theme.css?1606729825 rel=stylesheet>
<link href=/css/theme-green.css?1606729825 rel=stylesheet>
<script src=/js/jquery-3.3.1.min.js?1606729825></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style>
<meta name=google-site-verification content="I15BdfDU61eURsp8IywfU9hV8Rygaa4JsH-U8kKAxVs">
<style type=text/css>#body-inner pre{white-space:pre}</style>
</head>
<body data-url=/operators/superjsonof/>
<nav id=sidebar>
<div id=header-wrapper>
<div id=header>
<a id=logo href=https://go-testdeep.zetta.rocks/><img src=https://go-testdeep.zetta.rocks//images/logo.svg></a>
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script type=text/javascript src=/js/lunr.min.js?1606729825></script>
<script type=text/javascript src=/js/auto-complete.js?1606729825></script>
<script type=text/javascript>var baseurl="https:\/\/go-testdeep.zetta.rocks\/";</script>
<script type=text/javascript src=/js/search.js?1606729825></script>
</div>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/introduction/ title=Introduction class=dd-item>
<a href=/introduction/>
Introduction
</a>
</li>
<li data-nav-id=/example/ title=Example class=dd-item>
<a href=/example/>
Example
</a>
<ul>
<li data-nav-id=/example/using-testing/ title="Using testing package" class=dd-item>
<a href=/example/using-testing/>
Using testing package
</a>
</li>
<li data-nav-id=/example/basic-testdeep/ title="Basic go-testdeep approach" class=dd-item>
<a href=/example/basic-testdeep/>
Basic go-testdeep approach
</a>
</li>
<li data-nav-id=/example/advanced-testdeep/ title="Advanced go-testdeep technique" class=dd-item>
<a href=/example/advanced-testdeep/>
Advanced go-testdeep technique
</a>
</li>
<li data-nav-id=/example/td-cmp-shortcuts/ title="go-testdeep Cmp shortcuts" class=dd-item>
<a href=/example/td-cmp-shortcuts/>
go-testdeep Cmp shortcuts
</a>
</li>
<li data-nav-id=/example/td-t/ title="td.T type" class=dd-item>
<a href=/example/td-t/>
td.T type
</a>
</li>
<li data-nav-id=/example/anchoring/ title="Using anchoring" class=dd-item>
<a href=/example/anchoring/>
Using anchoring
</a>
</li>
</ul>
</li>
<li data-nav-id=/functions/ title=Functions class=dd-item>
<a href=/functions/>
Functions
</a>
<ul>
<li data-nav-id=/functions/td-t/ title=td.T class=dd-item>
<a href=/functions/td-t/>
td.T
</a>
</li>
</ul>
</li>
<li data-nav-id=/operators/ title=Operators class="dd-item
parent">
<a href=/operators/>
Operators
</a>
<ul>
<li data-nav-id=/operators/matrix/ title="Operators matrices" class=dd-item>
<a href=/operators/matrix/>
Operators matrices
</a>
</li>
<li data-nav-id=/operators/all/ title=All class=dd-item>
<a href=/operators/all/>
All
</a>
</li>
<li data-nav-id=/operators/any/ title=Any class=dd-item>
<a href=/operators/any/>
Any
</a>
</li>
<li data-nav-id=/operators/array/ title=Array class=dd-item>
<a href=/operators/array/>
Array
</a>
</li>
<li data-nav-id=/operators/arrayeach/ title=ArrayEach class=dd-item>
<a href=/operators/arrayeach/>
ArrayEach
</a>
</li>
<li data-nav-id=/operators/bag/ title=Bag class=dd-item>
<a href=/operators/bag/>
Bag
</a>
</li>
<li data-nav-id=/operators/between/ title=Between class=dd-item>
<a href=/operators/between/>
Between
</a>
</li>
<li data-nav-id=/operators/cap/ title=Cap class=dd-item>
<a href=/operators/cap/>
Cap
</a>
</li>
<li data-nav-id=/operators/catch/ title=Catch class=dd-item>
<a href=/operators/catch/>
Catch
</a>
</li>
<li data-nav-id=/operators/code/ title=Code class=dd-item>
<a href=/operators/code/>
Code
</a>
</li>
<li data-nav-id=/operators/contains/ title=Contains class=dd-item>
<a href=/operators/contains/>
Contains
</a>
</li>
<li data-nav-id=/operators/containskey/ title=ContainsKey class=dd-item>
<a href=/operators/containskey/>
ContainsKey
</a>
</li>
<li data-nav-id=/operators/delay/ title=Delay class=dd-item>
<a href=/operators/delay/>
Delay
</a>
</li>
<li data-nav-id=/operators/empty/ title=Empty class=dd-item>
<a href=/operators/empty/>
Empty
</a>
</li>
<li data-nav-id=/operators/gt/ title=Gt class=dd-item>
<a href=/operators/gt/>
Gt
</a>
</li>
<li data-nav-id=/operators/gte/ title=Gte class=dd-item>
<a href=/operators/gte/>
Gte
</a>
</li>
<li data-nav-id=/operators/hasprefix/ title=HasPrefix class=dd-item>
<a href=/operators/hasprefix/>
HasPrefix
</a>
</li>
<li data-nav-id=/operators/hassuffix/ title=HasSuffix class=dd-item>
<a href=/operators/hassuffix/>
HasSuffix
</a>
</li>
<li data-nav-id=/operators/ignore/ title=Ignore class=dd-item>
<a href=/operators/ignore/>
Ignore
</a>
</li>
<li data-nav-id=/operators/isa/ title=Isa class=dd-item>
<a href=/operators/isa/>
Isa
</a>
</li>
<li data-nav-id=/operators/json/ title=JSON class=dd-item>
<a href=/operators/json/>
JSON
</a>
</li>
<li data-nav-id=/operators/jsonpointer/ title=JSONPointer class=dd-item>
<a href=/operators/jsonpointer/>
JSONPointer
</a>
</li>
<li data-nav-id=/operators/keys/ title=Keys class=dd-item>
<a href=/operators/keys/>
Keys
</a>
</li>
<li data-nav-id=/operators/lax/ title=Lax class=dd-item>
<a href=/operators/lax/>
Lax
</a>
</li>
<li data-nav-id=/operators/len/ title=Len class=dd-item>
<a href=/operators/len/>
Len
</a>
</li>
<li data-nav-id=/operators/lt/ title=Lt class=dd-item>
<a href=/operators/lt/>
Lt
</a>
</li>
<li data-nav-id=/operators/lte/ title=Lte class=dd-item>
<a href=/operators/lte/>
Lte
</a>
</li>
<li data-nav-id=/operators/map/ title=Map class=dd-item>
<a href=/operators/map/>
Map
</a>
</li>
<li data-nav-id=/operators/mapeach/ title=MapEach class=dd-item>
<a href=/operators/mapeach/>
MapEach
</a>
</li>
<li data-nav-id=/operators/n/ title=N class=dd-item>
<a href=/operators/n/>
N
</a>
</li>
<li data-nav-id=/operators/nan/ title=NaN class=dd-item>
<a href=/operators/nan/>
NaN
</a>
</li>
<li data-nav-id=/operators/nil/ title=Nil class=dd-item>
<a href=/operators/nil/>
Nil
</a>
</li>
<li data-nav-id=/operators/none/ title=None class=dd-item>
<a href=/operators/none/>
None
</a>
</li>
<li data-nav-id=/operators/not/ title=Not class=dd-item>
<a href=/operators/not/>
Not
</a>
</li>
<li data-nav-id=/operators/notany/ title=NotAny class=dd-item>
<a href=/operators/notany/>
NotAny
</a>
</li>
<li data-nav-id=/operators/notempty/ title=NotEmpty class=dd-item>
<a href=/operators/notempty/>
NotEmpty
</a>
</li>
<li data-nav-id=/operators/notnan/ title=NotNaN class=dd-item>
<a href=/operators/notnan/>
NotNaN
</a>
</li>
<li data-nav-id=/operators/notnil/ title=NotNil class=dd-item>
<a href=/operators/notnil/>
NotNil
</a>
</li>
<li data-nav-id=/operators/notzero/ title=NotZero class=dd-item>
<a href=/operators/notzero/>
NotZero
</a>
</li>
<li data-nav-id=/operators/pptr/ title=PPtr class=dd-item>
<a href=/operators/pptr/>
PPtr
</a>
</li>
<li data-nav-id=/operators/ptr/ title=Ptr class=dd-item>
<a href=/operators/ptr/>
Ptr
</a>
</li>
<li data-nav-id=/operators/re/ title=Re class=dd-item>
<a href=/operators/re/>
Re
</a>
</li>
<li data-nav-id=/operators/reall/ title=ReAll class=dd-item>
<a href=/operators/reall/>
ReAll
</a>
</li>
<li data-nav-id=/operators/set/ title=Set class=dd-item>
<a href=/operators/set/>
Set
</a>
</li>
<li data-nav-id=/operators/shallow/ title=Shallow class=dd-item>
<a href=/operators/shallow/>
Shallow
</a>
</li>
<li data-nav-id=/operators/slice/ title=Slice class=dd-item>
<a href=/operators/slice/>
Slice
</a>
</li>
<li data-nav-id=/operators/smuggle/ title=Smuggle class=dd-item>
<a href=/operators/smuggle/>
Smuggle
</a>
</li>
<li data-nav-id=/operators/sstruct/ title=SStruct class=dd-item>
<a href=/operators/sstruct/>
SStruct
</a>
</li>
<li data-nav-id=/operators/string/ title=String class=dd-item>
<a href=/operators/string/>
String
</a>
</li>
<li data-nav-id=/operators/struct/ title=Struct class=dd-item>
<a href=/operators/struct/>
Struct
</a>
</li>
<li data-nav-id=/operators/subbagof/ title=SubBagOf class=dd-item>
<a href=/operators/subbagof/>
SubBagOf
</a>
</li>
<li data-nav-id=/operators/subjsonof/ title=SubJSONOf class=dd-item>
<a href=/operators/subjsonof/>
SubJSONOf
</a>
</li>
<li data-nav-id=/operators/submapof/ title=SubMapOf class=dd-item>
<a href=/operators/submapof/>
SubMapOf
</a>
</li>
<li data-nav-id=/operators/subsetof/ title=SubSetOf class=dd-item>
<a href=/operators/subsetof/>
SubSetOf
</a>
</li>
<li data-nav-id=/operators/superbagof/ title=SuperBagOf class=dd-item>
<a href=/operators/superbagof/>
SuperBagOf
</a>
</li>
<li data-nav-id=/operators/superjsonof/ title=SuperJSONOf class="dd-item active">
<a href=/operators/superjsonof/>
SuperJSONOf
</a>
</li>
<li data-nav-id=/operators/supermapof/ title=SuperMapOf class=dd-item>
<a href=/operators/supermapof/>
SuperMapOf
</a>
</li>
<li data-nav-id=/operators/supersetof/ title=SuperSetOf class=dd-item>
<a href=/operators/supersetof/>
SuperSetOf
</a>
</li>
<li data-nav-id=/operators/tag/ title=Tag class=dd-item>
<a href=/operators/tag/>
Tag
</a>
</li>
<li data-nav-id=/operators/trunctime/ title=TruncTime class=dd-item>
<a href=/operators/trunctime/>
TruncTime
</a>
</li>
<li data-nav-id=/operators/values/ title=Values class=dd-item>
<a href=/operators/values/>
Values
</a>
</li>
<li data-nav-id=/operators/zero/ title=Zero class=dd-item>
<a href=/operators/zero/>
Zero
</a>
</li>
</ul>
</li>
<li data-nav-id=/helpers/ title=Helpers class=dd-item>
<a href=/helpers/>
Helpers
</a>
</li>
<li data-nav-id=/faq/ title=FAQ class=dd-item>
<a href=/faq/>
FAQ
</a>
</li>
</ul>
<section id=shortcuts>
<h3>More</h3>
<ul>
<li>
<a class=padding href=https://go-testdeep.zetta.rocks/prez><i class="fab fa-slideshare"></i>&nbsp;Presentation</a>
</li>
<li>
<a class=padding href=https://github.com/maxatome/go-testdeep><i class="fab fa-github"></i>&nbsp;Github repo</a>
</li>
<li>
<a class=padding href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td><i class="fas fa-book"></i>&nbsp;godoc</a>
</li>
<li>
<a class=padding href=https://pkg.go.dev/github.com/maxatome/go-testdeep/helpers/tdhttp><i class="fas fa-book"></i>&nbsp;godoc API tester — tdhttp</a>
</li>
<li>
<a class=padding href=https://pkg.go.dev/github.com/maxatome/go-testdeep/helpers/tdutil><i class="fas fa-book"></i>&nbsp;godoc helpers utils — tdutil</a>
</li>
</ul>
</section>
<section id=footer>
<p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p>
</section>
</div>
</nav>
<section id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div>
<div id=top-bar>
<div id=breadcrumbs itemscope itemtype=http://schema.org/BreadcrumbList>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>
<span itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a itemprop=item href=/> <span itemprop=name>go-testdeep</span><meta itemprop=position content="1"></a></span> > <span itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a itemprop=item href=/operators/> <span itemprop=name>Operators</span><meta itemprop=position content="2"></a></span> > SuperJSONOf
</span>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#examples>Examples</a></li>
</ul>
</li>
<li><a href=#cmpsuperjsonof-shortcut>CmpSuperJSONOf shortcut</a>
<ul>
<li><a href=#examples-1>Examples</a></li>
</ul>
</li>
<li><a href=#tsuperjsonof-shortcut>T.SuperJSONOf shortcut</a>
<ul>
<li><a href=#examples-2>Examples</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div id=head-tags>
</div>
<div id=body-inner>
<h1>
SuperJSONOf
</h1>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#6ab825;font-weight:700>func</span> <span style=color:#447fcf>SuperJSONOf</span>(expectedJSON <span style=color:#6ab825;font-weight:700>interface</span>{}, params ...<span style=color:#6ab825;font-weight:700>interface</span>{}) TestDeep
</code></pre></div><p><a href=/operators/superjsonof/><code>SuperJSONOf</code></a> operator allows to compare the JSON representation of
data against <em>expectedJSON</em>. Unlike <a href=/operators/json/><code>JSON</code></a> operator, marshalled data
must be a JSON object/map (aka {…}). <em>expectedJSON</em> can be a:</p>
<ul>
<li><code>string</code> containing JSON data like <code>{"fullname":"Bob","age":42}</code></li>
<li><code>string</code> containing a JSON filename, ending with &ldquo;.json&rdquo; (its
content is <a href=https://pkg.go.dev/ioutil/#ReadFile><code>ioutil.ReadFile</code></a> before unmarshaling)</li>
<li><code>[]byte</code> containing JSON data</li>
<li><a href=https://pkg.go.dev/io/#Reader><code>io.Reader</code></a> stream containing JSON data (is <a href=https://pkg.go.dev/ioutil/#ReadAll><code>ioutil.ReadAll</code></a> before
unmarshaling)</li>
</ul>
<p>JSON data contained in <em>expectedJSON</em> must be a JSON object/map
(aka {…}) too. During a match, each expected entry should match in
the compared map. But some entries in the compared map may not be
expected.</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#6ab825;font-weight:700>type</span> MyStruct <span style=color:#6ab825;font-weight:700>struct</span> {
  Name <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;name&#34;`</span>
  Age  <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
  City <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
}
got := MyStruct{
  Name: <span style=color:#ed9d13>&#34;Bob&#34;</span>,
  Age:  <span style=color:#3677a9>42</span>,
  City: <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
}
td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;name&#34;: &#34;Bob&#34;, &#34;age&#34;: 42}`</span>))  <span style=color:#999;font-style:italic>// succeeds
</span><span style=color:#999;font-style:italic></span>td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;name&#34;: &#34;Bob&#34;, &#34;zip&#34;: 666}`</span>)) <span style=color:#999;font-style:italic>// fails, miss &#34;zip&#34;
</span></code></pre></div><p><em>expectedJSON</em> JSON value can contain placeholders. The <em>params</em>
are for any placeholder parameters in <em>expectedJSON</em>. <em>params</em> can
contain <a href=/operators/>TestDeep operators</a> as well as raw values. A placeholder can
be numeric like <code>$2</code> or named like <code>$name</code> and always references an
item in <em>params</em>.</p>
<p>Numeric placeholders reference the n&rsquo;th &ldquo;operators&rdquo; item (starting
at 1). Named placeholders are used with <a href=/operators/tag/><code>Tag</code></a> operator as follows:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>td.<span style=color:#447fcf>Cmp</span>(t, gotValue,
  <span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;fullname&#34;: $name, &#34;age&#34;: $2, &#34;gender&#34;: $3}`</span>,
    td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Foo&#34;</span>)), <span style=color:#999;font-style:italic>// matches $1 and $name
</span><span style=color:#999;font-style:italic></span>    td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>41</span>, <span style=color:#3677a9>43</span>),                  <span style=color:#999;font-style:italic>// matches only $2
</span><span style=color:#999;font-style:italic></span>    <span style=color:#ed9d13>&#34;male&#34;</span>))                             <span style=color:#999;font-style:italic>// matches only $3
</span></code></pre></div><p>Note that placeholders can be double-quoted as in:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>td.<span style=color:#447fcf>Cmp</span>(t, gotValue,
  td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;fullname&#34;: &#34;$name&#34;, &#34;age&#34;: &#34;$2&#34;, &#34;gender&#34;: &#34;$3&#34;}`</span>,
    td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Foo&#34;</span>)), <span style=color:#999;font-style:italic>// matches $1 and $name
</span><span style=color:#999;font-style:italic></span>    td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>41</span>, <span style=color:#3677a9>43</span>),                  <span style=color:#999;font-style:italic>// matches only $2
</span><span style=color:#999;font-style:italic></span>    <span style=color:#ed9d13>&#34;male&#34;</span>))                             <span style=color:#999;font-style:italic>// matches only $3
</span></code></pre></div><p>It makes no difference whatever the underlying type of the replaced
item is (= double quoting a placeholder matching a number is not a
problem). It is just a matter of taste, double-quoting placeholders
can be preferred when the JSON data has to conform to the JSON
specification, like when used in a &ldquo;.json&rdquo; file.</p>
<p>Note <em>expectedJSON</em> can be a <code>[]byte</code>, JSON filename or <a href=https://pkg.go.dev/io/#Reader><code>io.Reader</code></a>:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>td.<span style=color:#447fcf>Cmp</span>(t, gotValue, td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>&#34;file.json&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>12</span>, <span style=color:#3677a9>34</span>)))
td.<span style=color:#447fcf>Cmp</span>(t, gotValue, td.<span style=color:#447fcf>SuperJSONOf</span>([]<span style=color:#24909d>byte</span>(<span style=color:#ed9d13>`[1, $1, 3]`</span>), td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>12</span>, <span style=color:#3677a9>34</span>)))
td.<span style=color:#447fcf>Cmp</span>(t, gotValue, td.<span style=color:#447fcf>SuperJSONOf</span>(osFile, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>12</span>, <span style=color:#3677a9>34</span>)))
</code></pre></div><p>A JSON filename ends with &ldquo;.json&rdquo;.</p>
<p>To avoid a legit &ldquo;$&rdquo; <code>string</code> prefix causes a bad placeholder <a href=https://pkg.go.dev/builtin/#error><code>error</code></a>,
just double it to escape it. Note it is only needed when the &ldquo;$&rdquo; is
the first character of a <code>string</code>:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>td.<span style=color:#447fcf>Cmp</span>(t, gotValue,
  td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;fullname&#34;: &#34;$name&#34;, &#34;details&#34;: &#34;$$info&#34;, &#34;age&#34;: $2}`</span>,
    td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Foo&#34;</span>)), <span style=color:#999;font-style:italic>// matches $1 and $name
</span><span style=color:#999;font-style:italic></span>    td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>41</span>, <span style=color:#3677a9>43</span>)))                 <span style=color:#999;font-style:italic>// matches only $2
</span></code></pre></div><p>For the &ldquo;details&rdquo; key, the raw value &ldquo;<code>$info</code>&rdquo; is expected, no
placeholders are involved here.</p>
<p>Note that <a href=/operators/lax/><code>Lax</code></a> mode is automatically enabled by <a href=/operators/superjsonof/><code>SuperJSONOf</code></a> operator to
simplify numeric tests.</p>
<p>Comments can be embedded in JSON data:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>td.<span style=color:#447fcf>Cmp</span>(t, gotValue,
  td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`
</span><span style=color:#ed9d13>{
</span><span style=color:#ed9d13>  // A guy properties:
</span><span style=color:#ed9d13>  &#34;fullname&#34;: &#34;$name&#34;,  // The full name of the guy
</span><span style=color:#ed9d13>  &#34;details&#34;:  &#34;$$info&#34;, // Literally &#34;$info&#34;, thanks to &#34;$&#34; escape
</span><span style=color:#ed9d13>  &#34;age&#34;:      $2        /* The age of the guy:
</span><span style=color:#ed9d13>                           - placeholder unquoted, but could be without
</span><span style=color:#ed9d13>                             any change
</span><span style=color:#ed9d13>                           - to demonstrate a multi-lines comment */
</span><span style=color:#ed9d13>}`</span>,
    td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Foo&#34;</span>)), <span style=color:#999;font-style:italic>// matches $1 and $name
</span><span style=color:#999;font-style:italic></span>    td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>41</span>, <span style=color:#3677a9>43</span>)))                 <span style=color:#999;font-style:italic>// matches only $2
</span></code></pre></div><p>Comments, like in go, have 2 forms. To quote the Go language specification:</p>
<ul>
<li>line comments start with the character sequence // and stop at the
end of the line.</li>
<li>multi-lines comments start with the character sequence /* and stop
with the first subsequent character sequence */.</li>
</ul>
<p>Last but not least, simple operators can be directly embedded in
JSON data without requiring any placeholder but using directly
<code>$^OperatorName</code>. They are operator shortcuts:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>td.<span style=color:#447fcf>Cmp</span>(t, gotValue, td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;id&#34;: $1}`</span>, td.<span style=color:#447fcf>NotZero</span>()))
</code></pre></div><p>can be written as:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>td.<span style=color:#447fcf>Cmp</span>(t, gotValue, td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;id&#34;: $^NotZero}`</span>))
</code></pre></div><p>Unfortunately, only simple operators (in fact those which take no
parameters) have shortcuts. They follow:</p>
<ul>
<li><a href=/operators/empty/><code>Empty</code></a> → <code>$^Empty</code></li>
<li><a href=/operators/ignore/><code>Ignore</code></a> → <code>$^Ignore</code></li>
<li><a href=/operators/nan/><code>NaN</code></a> → <code>$^NaN</code></li>
<li><a href=/operators/nil/><code>Nil</code></a> → <code>$^Nil</code></li>
<li><a href=/operators/notempty/><code>NotEmpty</code></a> → <code>$^NotEmpty</code></li>
<li><a href=/operators/notnan/><code>NotNaN</code></a> → <code>$^NotNaN</code></li>
<li><a href=/operators/notnil/><code>NotNil</code></a> → <code>$^NotNil</code></li>
<li><a href=/operators/notzero/><code>NotZero</code></a> → <code>$^NotZero</code></li>
<li><a href=/operators/zero/><code>Zero</code></a> → <code>$^Zero</code></li>
</ul>
<p><a href=/operators/#typebehind-method><code>TypeBehind</code></a> method returns the <code>map[string]interface{}</code> type.</p>
<blockquote>
<p>See also <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#SuperJSONOf> SuperJSONOf godoc</a>.</p>
</blockquote>
<h3 id=examples>Examples</h3>
<p>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
Basic example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := &amp;testing.T{}

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	ok := td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;age&#34;:42,&#34;fullname&#34;:&#34;Bob&#34;,&#34;gender&#34;:&#34;male&#34;}`</span>))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with age then fullname:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;fullname&#34;:&#34;Bob&#34;,&#34;age&#34;:42,&#34;gender&#34;:&#34;male&#34;}`</span>))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with fullname then age:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`
</span><span style=color:#ed9d13>// This should be the JSON representation of a struct
</span><span style=color:#ed9d13>{
</span><span style=color:#ed9d13>  // A person:
</span><span style=color:#ed9d13>  &#34;fullname&#34;: &#34;Bob&#34;, // The name of this person
</span><span style=color:#ed9d13>  &#34;age&#34;:      42,    /* The age of this person:
</span><span style=color:#ed9d13>                        - 42 of course
</span><span style=color:#ed9d13>                        - to demonstrate a multi-lines comment */
</span><span style=color:#ed9d13>  &#34;gender&#34;:   &#34;male&#34; // The gender!
</span><span style=color:#ed9d13>}`</span>))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with nicely formatted and commented JSON:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>Cmp</span>(t, got,
		td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;fullname&#34;:&#34;Bob&#34;,&#34;gender&#34;:&#34;male&#34;,&#34;details&#34;:{}}`</span>))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with details field:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with age then fullname: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with fullname then age: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with nicely formatted and commented JSON: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with details field: false
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
Placeholders example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := &amp;testing.T{}

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	ok := td.<span style=color:#447fcf>Cmp</span>(t, got,
		td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;age&#34;: $1, &#34;fullname&#34;: $2, &#34;gender&#34;: $3}`</span>,
			<span style=color:#3677a9>42</span>, <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>, <span style=color:#ed9d13>&#34;male&#34;</span>))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with numeric placeholders without operators:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>Cmp</span>(t, got,
		td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;age&#34;: $1, &#34;fullname&#34;: $2, &#34;gender&#34;: $3}`</span>,
			td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>),
			td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>),
			td.<span style=color:#447fcf>NotEmpty</span>()))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with numeric placeholders:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>Cmp</span>(t, got,
		td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;age&#34;: &#34;$1&#34;, &#34;fullname&#34;: &#34;$2&#34;, &#34;gender&#34;: &#34;$3&#34;}`</span>,
			td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>),
			td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>),
			td.<span style=color:#447fcf>NotEmpty</span>()))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with double-quoted numeric placeholders:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>Cmp</span>(t, got,
		td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;age&#34;: $age, &#34;fullname&#34;: $name, &#34;gender&#34;: $gender}`</span>,
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)),
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>)),
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>NotEmpty</span>())))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with named placeholders:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>Cmp</span>(t, got,
		td.<span style=color:#447fcf>SuperJSONOf</span>(<span style=color:#ed9d13>`{&#34;age&#34;: $^NotZero, &#34;fullname&#34;: $^NotEmpty, &#34;gender&#34;: $^NotEmpty}`</span>))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with operator shortcuts:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with numeric placeholders without operators: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with numeric placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with double-quoted numeric placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with named placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with operator shortcuts: true
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
File example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := &amp;testing.T{}

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	tmpDir, err := ioutil.<span style=color:#447fcf>TempDir</span>(<span style=color:#ed9d13>&#34;&#34;</span>, <span style=color:#ed9d13>&#34;&#34;</span>)
	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}
	<span style=color:#6ab825;font-weight:700>defer</span> os.<span style=color:#447fcf>RemoveAll</span>(tmpDir) <span style=color:#999;font-style:italic>// clean up
</span><span style=color:#999;font-style:italic></span>
	filename := tmpDir + <span style=color:#ed9d13>&#34;/test.json&#34;</span>
	<span style=color:#6ab825;font-weight:700>if</span> err = ioutil.<span style=color:#447fcf>WriteFile</span>(filename, []<span style=color:#24909d>byte</span>(<span style=color:#ed9d13>`
</span><span style=color:#ed9d13>{
</span><span style=color:#ed9d13>  &#34;fullname&#34;: &#34;$name&#34;,
</span><span style=color:#ed9d13>  &#34;age&#34;:      &#34;$age&#34;,
</span><span style=color:#ed9d13>  &#34;gender&#34;:   &#34;$gender&#34;
</span><span style=color:#ed9d13>}`</span>), <span style=color:#3677a9>0644</span>); err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}

	<span style=color:#999;font-style:italic>// OK let&#39;s test with this file
</span><span style=color:#999;font-style:italic></span>	ok := td.<span style=color:#447fcf>Cmp</span>(t, got,
		td.<span style=color:#447fcf>SuperJSONOf</span>(filename,
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Bob&#34;</span>)),
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)),
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>Re</span>(<span style=color:#ed9d13>`^(male|female)\z`</span>))))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Full match from file name:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// When the file is already open
</span><span style=color:#999;font-style:italic></span>	file, err := os.<span style=color:#447fcf>Open</span>(filename)
	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}
	ok = td.<span style=color:#447fcf>Cmp</span>(t, got,
		td.<span style=color:#447fcf>SuperJSONOf</span>(file,
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Bob&#34;</span>)),
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)),
			td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>Re</span>(<span style=color:#ed9d13>`^(male|female)\z`</span>))))
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Full match from io.Reader:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// Full match from file name: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// Full match from io.Reader: true
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div></p>
<h2 id=cmpsuperjsonof-shortcut>CmpSuperJSONOf shortcut</h2>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#6ab825;font-weight:700>func</span> <span style=color:#447fcf>CmpSuperJSONOf</span>(t TestingT, got <span style=color:#6ab825;font-weight:700>interface</span>{}, expectedJSON <span style=color:#6ab825;font-weight:700>interface</span>{}, params []<span style=color:#6ab825;font-weight:700>interface</span>{}, args ...<span style=color:#6ab825;font-weight:700>interface</span>{}) <span style=color:#6ab825;font-weight:700>bool</span>
</code></pre></div><p>CmpSuperJSONOf is a shortcut for:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>td.<span style=color:#447fcf>Cmp</span>(t, got, td.<span style=color:#447fcf>SuperJSONOf</span>(expectedJSON, params...), args...)
</code></pre></div><p>See above for details.</p>
<p>Returns true if the test is OK, false if it fails.</p>
<p><em>args&mldr;</em> are optional and allow to name the test. This name is
used in case of failure to qualify the test. If <code>len(args) > 1</code> and
the first item of <em>args</em> is a <code>string</code> and contains a &lsquo;%&rsquo; <code>rune</code> then
<a href=https://pkg.go.dev/fmt/#Fprintf><code>fmt.Fprintf</code></a> is used to compose the name, else <em>args</em> are passed to
<a href=https://pkg.go.dev/fmt/#Fprint><code>fmt.Fprint</code></a>. Do not forget it is the name of the test, not the
reason of a potential failure.</p>
<blockquote>
<p>See also <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#CmpSuperJSONOf> CmpSuperJSONOf godoc</a>.</p>
</blockquote>
<h3 id=examples-1>Examples</h3>
<p>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
Basic example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := &amp;testing.T{}

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	ok := td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`{&#34;age&#34;:42,&#34;fullname&#34;:&#34;Bob&#34;,&#34;gender&#34;:&#34;male&#34;}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with age then fullname:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`{&#34;fullname&#34;:&#34;Bob&#34;,&#34;age&#34;:42,&#34;gender&#34;:&#34;male&#34;}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with fullname then age:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`
</span><span style=color:#ed9d13>// This should be the JSON representation of a struct
</span><span style=color:#ed9d13>{
</span><span style=color:#ed9d13>  // A person:
</span><span style=color:#ed9d13>  &#34;fullname&#34;: &#34;Bob&#34;, // The name of this person
</span><span style=color:#ed9d13>  &#34;age&#34;:      42,    /* The age of this person:
</span><span style=color:#ed9d13>                        - 42 of course
</span><span style=color:#ed9d13>                        - to demonstrate a multi-lines comment */
</span><span style=color:#ed9d13>  &#34;gender&#34;:   &#34;male&#34; // The gender!
</span><span style=color:#ed9d13>}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with nicely formatted and commented JSON:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`{&#34;fullname&#34;:&#34;Bob&#34;,&#34;gender&#34;:&#34;male&#34;,&#34;details&#34;:{}}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with details field:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with age then fullname: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with fullname then age: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with nicely formatted and commented JSON: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with details field: false
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
Placeholders example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := &amp;testing.T{}

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	ok := td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`{&#34;age&#34;: $1, &#34;fullname&#34;: $2, &#34;gender&#34;: $3}`</span>, []<span style=color:#6ab825;font-weight:700>interface</span>{}{<span style=color:#3677a9>42</span>, <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>, <span style=color:#ed9d13>&#34;male&#34;</span>})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with numeric placeholders without operators:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`{&#34;age&#34;: $1, &#34;fullname&#34;: $2, &#34;gender&#34;: $3}`</span>, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>), td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>), td.<span style=color:#447fcf>NotEmpty</span>()})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with numeric placeholders:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`{&#34;age&#34;: &#34;$1&#34;, &#34;fullname&#34;: &#34;$2&#34;, &#34;gender&#34;: &#34;$3&#34;}`</span>, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>), td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>), td.<span style=color:#447fcf>NotEmpty</span>()})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with double-quoted numeric placeholders:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`{&#34;age&#34;: $age, &#34;fullname&#34;: $name, &#34;gender&#34;: $gender}`</span>, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>NotEmpty</span>())})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with named placeholders:&#34;</span>, ok)

	ok = td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, <span style=color:#ed9d13>`{&#34;age&#34;: $^NotZero, &#34;fullname&#34;: $^NotEmpty, &#34;gender&#34;: $^NotEmpty}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with operator shortcuts:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with numeric placeholders without operators: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with numeric placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with double-quoted numeric placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with named placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with operator shortcuts: true
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
File example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := &amp;testing.T{}

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	tmpDir, err := ioutil.<span style=color:#447fcf>TempDir</span>(<span style=color:#ed9d13>&#34;&#34;</span>, <span style=color:#ed9d13>&#34;&#34;</span>)
	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}
	<span style=color:#6ab825;font-weight:700>defer</span> os.<span style=color:#447fcf>RemoveAll</span>(tmpDir) <span style=color:#999;font-style:italic>// clean up
</span><span style=color:#999;font-style:italic></span>
	filename := tmpDir + <span style=color:#ed9d13>&#34;/test.json&#34;</span>
	<span style=color:#6ab825;font-weight:700>if</span> err = ioutil.<span style=color:#447fcf>WriteFile</span>(filename, []<span style=color:#24909d>byte</span>(<span style=color:#ed9d13>`
</span><span style=color:#ed9d13>{
</span><span style=color:#ed9d13>  &#34;fullname&#34;: &#34;$name&#34;,
</span><span style=color:#ed9d13>  &#34;age&#34;:      &#34;$age&#34;,
</span><span style=color:#ed9d13>  &#34;gender&#34;:   &#34;$gender&#34;
</span><span style=color:#ed9d13>}`</span>), <span style=color:#3677a9>0644</span>); err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}

	<span style=color:#999;font-style:italic>// OK let&#39;s test with this file
</span><span style=color:#999;font-style:italic></span>	ok := td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, filename, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Bob&#34;</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>Re</span>(<span style=color:#ed9d13>`^(male|female)\z`</span>))})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Full match from file name:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// When the file is already open
</span><span style=color:#999;font-style:italic></span>	file, err := os.<span style=color:#447fcf>Open</span>(filename)
	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}
	ok = td.<span style=color:#447fcf>CmpSuperJSONOf</span>(t, got, file, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Bob&#34;</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>Re</span>(<span style=color:#ed9d13>`^(male|female)\z`</span>))})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Full match from io.Reader:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// Full match from file name: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// Full match from io.Reader: true
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div></p>
<h2 id=tsuperjsonof-shortcut>T.SuperJSONOf shortcut</h2>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#6ab825;font-weight:700>func</span> (t *T) <span style=color:#447fcf>SuperJSONOf</span>(got <span style=color:#6ab825;font-weight:700>interface</span>{}, expectedJSON <span style=color:#6ab825;font-weight:700>interface</span>{}, params []<span style=color:#6ab825;font-weight:700>interface</span>{}, args ...<span style=color:#6ab825;font-weight:700>interface</span>{}) <span style=color:#6ab825;font-weight:700>bool</span>
</code></pre></div><p><a href=/operators/superjsonof/><code>SuperJSONOf</code></a> is a shortcut for:</p>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>t.<span style=color:#447fcf>Cmp</span>(got, td.<span style=color:#447fcf>SuperJSONOf</span>(expectedJSON, params...), args...)
</code></pre></div><p>See above for details.</p>
<p>Returns true if the test is OK, false if it fails.</p>
<p><em>args&mldr;</em> are optional and allow to name the test. This name is
used in case of failure to qualify the test. If <code>len(args) > 1</code> and
the first item of <em>args</em> is a <code>string</code> and contains a &lsquo;%&rsquo; <code>rune</code> then
<a href=https://pkg.go.dev/fmt/#Fprintf><code>fmt.Fprintf</code></a> is used to compose the name, else <em>args</em> are passed to
<a href=https://pkg.go.dev/fmt/#Fprint><code>fmt.Fprint</code></a>. Do not forget it is the name of the test, not the
reason of a potential failure.</p>
<blockquote>
<p>See also <a href=https://pkg.go.dev/github.com/maxatome/go-testdeep/td#T.SuperJSONOf> T.SuperJSONOf godoc</a>.</p>
</blockquote>
<h3 id=examples-2>Examples</h3>
<p>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
Basic example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	ok := t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`{&#34;age&#34;:42,&#34;fullname&#34;:&#34;Bob&#34;,&#34;gender&#34;:&#34;male&#34;}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with age then fullname:&#34;</span>, ok)

	ok = t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`{&#34;fullname&#34;:&#34;Bob&#34;,&#34;age&#34;:42,&#34;gender&#34;:&#34;male&#34;}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with fullname then age:&#34;</span>, ok)

	ok = t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`
</span><span style=color:#ed9d13>// This should be the JSON representation of a struct
</span><span style=color:#ed9d13>{
</span><span style=color:#ed9d13>  // A person:
</span><span style=color:#ed9d13>  &#34;fullname&#34;: &#34;Bob&#34;, // The name of this person
</span><span style=color:#ed9d13>  &#34;age&#34;:      42,    /* The age of this person:
</span><span style=color:#ed9d13>                        - 42 of course
</span><span style=color:#ed9d13>                        - to demonstrate a multi-lines comment */
</span><span style=color:#ed9d13>  &#34;gender&#34;:   &#34;male&#34; // The gender!
</span><span style=color:#ed9d13>}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with nicely formatted and commented JSON:&#34;</span>, ok)

	ok = t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`{&#34;fullname&#34;:&#34;Bob&#34;,&#34;gender&#34;:&#34;male&#34;,&#34;details&#34;:{}}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with details field:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with age then fullname: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with fullname then age: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with nicely formatted and commented JSON: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with details field: false
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
Placeholders example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	ok := t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`{&#34;age&#34;: $1, &#34;fullname&#34;: $2, &#34;gender&#34;: $3}`</span>, []<span style=color:#6ab825;font-weight:700>interface</span>{}{<span style=color:#3677a9>42</span>, <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>, <span style=color:#ed9d13>&#34;male&#34;</span>})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with numeric placeholders without operators:&#34;</span>, ok)

	ok = t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`{&#34;age&#34;: $1, &#34;fullname&#34;: $2, &#34;gender&#34;: $3}`</span>, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>), td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>), td.<span style=color:#447fcf>NotEmpty</span>()})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with numeric placeholders:&#34;</span>, ok)

	ok = t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`{&#34;age&#34;: &#34;$1&#34;, &#34;fullname&#34;: &#34;$2&#34;, &#34;gender&#34;: &#34;$3&#34;}`</span>, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>), td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>), td.<span style=color:#447fcf>NotEmpty</span>()})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with double-quoted numeric placeholders:&#34;</span>, ok)

	ok = t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`{&#34;age&#34;: $age, &#34;fullname&#34;: $name, &#34;gender&#34;: $gender}`</span>, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasSuffix</span>(<span style=color:#ed9d13>&#34;Foobar&#34;</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>NotEmpty</span>())})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with named placeholders:&#34;</span>, ok)

	ok = t.<span style=color:#447fcf>SuperJSONOf</span>(got, <span style=color:#ed9d13>`{&#34;age&#34;: $^NotZero, &#34;fullname&#34;: $^NotEmpty, &#34;gender&#34;: $^NotEmpty}`</span>, <span style=color:#6ab825;font-weight:700>nil</span>)
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;check got with operator shortcuts:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with numeric placeholders without operators: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with numeric placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with double-quoted numeric placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with named placeholders: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// check got with operator shortcuts: true
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div>
<div class=expand>
<div class=expand-label style=cursor:pointer onclick="$h=$(this);$h.next('div').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('div').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});">
<i style=font-size:x-small class="fas fa-chevron-right"></i>
<span>
File example
</span>
</div>
<div class=expand-content style=display:none>
<div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>	t := td.<span style=color:#447fcf>NewT</span>(&amp;testing.T{})

	got := &amp;<span style=color:#6ab825;font-weight:700>struct</span> {
		Fullname <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;fullname&#34;`</span>
		Age      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;age&#34;`</span>
		Gender   <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;gender&#34;`</span>
		City     <span style=color:#6ab825;font-weight:700>string</span> <span style=color:#ed9d13>`json:&#34;city&#34;`</span>
		Zip      <span style=color:#6ab825;font-weight:700>int</span>    <span style=color:#ed9d13>`json:&#34;zip&#34;`</span>
	}{
		Fullname: <span style=color:#ed9d13>&#34;Bob Foobar&#34;</span>,
		Age:      <span style=color:#3677a9>42</span>,
		Gender:   <span style=color:#ed9d13>&#34;male&#34;</span>,
		City:     <span style=color:#ed9d13>&#34;TestCity&#34;</span>,
		Zip:      <span style=color:#3677a9>666</span>,
	}

	tmpDir, err := ioutil.<span style=color:#447fcf>TempDir</span>(<span style=color:#ed9d13>&#34;&#34;</span>, <span style=color:#ed9d13>&#34;&#34;</span>)
	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}
	<span style=color:#6ab825;font-weight:700>defer</span> os.<span style=color:#447fcf>RemoveAll</span>(tmpDir) <span style=color:#999;font-style:italic>// clean up
</span><span style=color:#999;font-style:italic></span>
	filename := tmpDir + <span style=color:#ed9d13>&#34;/test.json&#34;</span>
	<span style=color:#6ab825;font-weight:700>if</span> err = ioutil.<span style=color:#447fcf>WriteFile</span>(filename, []<span style=color:#24909d>byte</span>(<span style=color:#ed9d13>`
</span><span style=color:#ed9d13>{
</span><span style=color:#ed9d13>  &#34;fullname&#34;: &#34;$name&#34;,
</span><span style=color:#ed9d13>  &#34;age&#34;:      &#34;$age&#34;,
</span><span style=color:#ed9d13>  &#34;gender&#34;:   &#34;$gender&#34;
</span><span style=color:#ed9d13>}`</span>), <span style=color:#3677a9>0644</span>); err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}

	<span style=color:#999;font-style:italic>// OK let&#39;s test with this file
</span><span style=color:#999;font-style:italic></span>	ok := t.<span style=color:#447fcf>SuperJSONOf</span>(got, filename, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Bob&#34;</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>Re</span>(<span style=color:#ed9d13>`^(male|female)\z`</span>))})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Full match from file name:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// When the file is already open
</span><span style=color:#999;font-style:italic></span>	file, err := os.<span style=color:#447fcf>Open</span>(filename)
	<span style=color:#6ab825;font-weight:700>if</span> err != <span style=color:#6ab825;font-weight:700>nil</span> {
		t.<span style=color:#447fcf>Fatal</span>(err)
	}
	ok = t.<span style=color:#447fcf>SuperJSONOf</span>(got, file, []<span style=color:#6ab825;font-weight:700>interface</span>{}{td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;name&#34;</span>, td.<span style=color:#447fcf>HasPrefix</span>(<span style=color:#ed9d13>&#34;Bob&#34;</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;age&#34;</span>, td.<span style=color:#447fcf>Between</span>(<span style=color:#3677a9>40</span>, <span style=color:#3677a9>45</span>)), td.<span style=color:#447fcf>Tag</span>(<span style=color:#ed9d13>&#34;gender&#34;</span>, td.<span style=color:#447fcf>Re</span>(<span style=color:#ed9d13>`^(male|female)\z`</span>))})
	fmt.<span style=color:#447fcf>Println</span>(<span style=color:#ed9d13>&#34;Full match from io.Reader:&#34;</span>, ok)

	<span style=color:#999;font-style:italic>// Output:
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// Full match from file name: true
</span><span style=color:#999;font-style:italic></span>	<span style=color:#999;font-style:italic>// Full match from io.Reader: true
</span><span style=color:#999;font-style:italic></span>
</code></pre></div>
</div>
</div></p>
<footer class=footline>
</footer>
</div>
</div>
<div id=navigation>
<a class="nav nav-prev" href=/operators/superbagof/ title=SuperBagOf> <i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/operators/supermapof/ title=SuperMapOf style=margin-right:0><i class="fa fa-chevron-right"></i></a>
</div>
</section>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=/js/clipboard.min.js?1606729825></script>
<script src=/js/perfect-scrollbar.min.js?1606729825></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1606729825></script>
<script src=/js/jquery.sticky.js?1606729825></script>
<script src=/js/featherlight.min.js?1606729825></script>
<script src=/js/highlight.pack.js?1606729825></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src=/js/modernizr.custom-3.6.0.js?1606729825></script>
<script src=/js/learn.js?1606729825></script>
<script src=/js/hugo-learn.js?1606729825></script>
<link href=/mermaid/mermaid.css?1606729825 rel=stylesheet>
<script src=/mermaid/mermaid.js?1606729825></script>
<script>mermaid.initialize({startOnLoad:true});</script>
</body>
</html>